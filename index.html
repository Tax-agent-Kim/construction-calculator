<!DOCTYPE html>
<!--
*******************************************************************************
* ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ ê°„ì´ê³„ì‚°ê¸°
* Copyright (c) 2025 ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°
* All Rights Reserved.
* 
* ë³¸ ì†ŒìŠ¤ ì½”ë“œ ë° í”„ë¡œê·¸ë¨ì€ ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.
* ë¬´ë‹¨ ë³µì œ, ìˆ˜ì •, ë°°í¬, ì¬ì‚¬ìš©ì„ ê¸ˆì§€í•©ë‹ˆë‹¤.
* 
* ìœ„ë°˜ ì‹œ ì €ì‘ê¶Œë²•ì— ë”°ë¼ ë¯¼Â·í˜•ì‚¬ìƒ ì±…ì„ì„ ë¬¼ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* 
* ê°œë°œ ë¬¸ì˜: 02-991-0331
* ì´ë©”ì¼: kyrtax@naver.com
* ì›¹ì‚¬ì´íŠ¸: www.kyrtax.co.kr
* 
* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
* ğŸ” ì €ì‘ê¶Œ ê²€ì¦ ì •ë³´ (DO NOT REMOVE)
* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
* Original Source: ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°
* Creation Date: 2025-12-11
* Digital Fingerprint: 1b2c11aac6503c9cc7da0ed4506262cd
* Version Code: KYR-CONST-CAP-CALC-v2.5.1
* Deployment ID: 20251211050021
* License Type: Proprietary - All Rights Reserved
* 
* This fingerprint is embedded for copyright verification purposes.
* Unauthorized removal or modification of this notice is prohibited by law.
* ë³¸ ì§€ë¬¸ì€ ì €ì‘ê¶Œ ê²€ì¦ìš©ì…ë‹ˆë‹¤. ë¬´ë‹¨ ì‚­ì œ/ìˆ˜ì • ì‹œ ë²•ì  ì±…ì„ì´ ê°€ì¤‘ë©ë‹ˆë‹¤.
* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
*******************************************************************************
-->
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <!-- SEO ë©”íƒ€íƒœê·¸ -->
    <title>ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ ê³„ì‚°ê¸° | ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°</title>
    <meta name="description" content="ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ì„ ê°„í¸í•˜ê²Œ ê³„ì‚°í•˜ì„¸ìš”. ê±´ì„¤ì‚°ì—…ê¸°ë³¸ë²• ì‹œí–‰ë ¹ ê¸°ì¤€, ë¬´ë£Œ ì˜¨ë¼ì¸ ê³„ì‚°ê¸° ì œê³µ - ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°">
    <meta name="keywords" content="ê±´ì„¤ì—…, ì‹¤ì§ˆìë³¸, ê³„ì‚°ê¸°, ì„¸ë¬´ì‚¬, ê±´ì„¤ì—…ë“±ë¡, ìë³¸ê¸ˆ, ê¸°ì—…ì§„ë‹¨, ê±´ì„¤ì‚°ì—…ê¸°ë³¸ë²•">
    <meta name="author" content="ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ">
    
    <!-- Open Graph (ì¹´ì¹´ì˜¤í†¡, í˜ì´ìŠ¤ë¶ ê³µìœ  ì‹œ) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ ê³„ì‚°ê¸° | ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ">
    <meta property="og:description" content="ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ì„ ì‰½ê³  ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ì„¸ìš”. ë¬´ë£Œ ì˜¨ë¼ì¸ ê³„ì‚°ê¸°">
    <meta property="og:url" content="https://kyrtax.co.kr">
    <meta property="og:site_name" content="ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°">
    
    <!-- ë„¤ì´ë²„ ê²€ìƒ‰ ìµœì í™” -->
    <meta name="naver-site-verification" content="">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RG7V70V9V4"></script>
    <script>
        // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        // ğŸ” COPYRIGHT VERIFICATION FINGERPRINT - DO NOT REMOVE
        // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        // Original Author: ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°
        // Digital Signature: 1b2c11aac6503c9cc7da0ed4506262cd
        // Timestamp: 20251211050021
        // Contact: 02-991-0331 | kyrtax@naver.com | www.kyrtax.co.kr
        // 
        // This code contains embedded digital fingerprints for copyright
        // verification. Unauthorized use, modification, or distribution
        // is strictly prohibited and may result in legal action.
        // 
        // ë³¸ ì½”ë“œëŠ” ì €ì‘ê¶Œ ê²€ì¦ìš© ë””ì§€í„¸ ì§€ë¬¸ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
        // ë¬´ë‹¨ ì‚¬ìš©, ìˆ˜ì •, ë°°í¬ëŠ” ì—„ê²©íˆ ê¸ˆì§€ë˜ë©° ë²•ì  ì¡°ì¹˜ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        // â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        
        // Copyright tracking
        const _0x4a2f=['1b2c11aa','c6503c9c','c7da0ed4','506262cd','KYR-CONST','20251211'];
        const _originalSource='ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ';
        const _deploymentId='050021';
        
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RG7V70V9V4');
    </script>
    
    <style>
        /* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
           ğŸ” COPYRIGHT NOTICE - STYLE FINGERPRINT
           â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
           Copyright (c) 2025 ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°
           Digital Fingerprint: 1b2c11aac6503c9cc7da0ed4506262cd
           Version: KYR-CONST-CAP-CALC-v2.5.1
           Deployment: 20251211050021
           
           All design elements and styles are proprietary.
           Unauthorized copying or replication is prohibited.
           ë¬´ë‹¨ ë³µì œ ê¸ˆì§€ - ëª¨ë“  ë””ìì¸ ìš”ì†ŒëŠ” ì €ì‘ë¬¼ì…ë‹ˆë‹¤.
           â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        h1 { color: #333; text-align: center; margin-bottom: 10px; font-size: 28px; }
        .subtitle { text-align: center; color: #666; margin-bottom: 40px; font-size: 14px; }
        .step { margin-bottom: 25px; }
        .step-title { font-weight: 600; color: #555; margin-bottom: 12px; font-size: 16px; }
        .button-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .btn {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 15px;
            font-weight: 500;
            color: #555;
        }
        .btn:hover { border-color: #667eea; background: #f8f9ff; transform: translateY(-2px); }
        .btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-color: #667eea; }
        select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            cursor: pointer;
            background: white;
            transition: all 0.3s;
        }
        select:focus { outline: none; border-color: #667eea; }
        .license-tag {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            margin: 5px;
            font-size: 13px;
            position: relative;
            padding-right: 35px;
        }
        .license-tag-remove {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
        }
        .license-tag-remove:hover { color: #ffcccc; }
        .license-list { margin-top: 10px; padding: 15px; background: #f8f9ff; border-radius: 10px; }
        .license-list-title { font-size: 12px; color: #888; margin-bottom: 8px; }
        .finance-section { margin-top: 30px; padding: 25px; background: #f8f9ff; border-radius: 15px; display: none; }
        .finance-section.show { display: block; animation: fadeIn 0.5s; }
        .finance-title { font-size: 18px; font-weight: 600; color: #667eea; margin-bottom: 20px; text-align: center; }
        .input-group { margin-bottom: 15px; }
        .input-label { display: block; font-size: 14px; color: #555; margin-bottom: 8px; font-weight: 500; }
        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            transition: all 0.3s;
        }
        .input-field:focus { outline: none; border-color: #667eea; background: white; }
        .input-hint { font-size: 12px; color: #999; margin-top: 5px; }
        .calculate-btn {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: white;
            transition: all 0.3s;
        }
        .calculate-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); }
        .result {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            border-radius: 15px;
            border-left: 5px solid #667eea;
            display: none;
        }
        .result.show { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .result-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .result-label { font-size: 14px; color: #666; }
        .result-value { font-size: 28px; font-weight: 700; color: #667eea; margin-bottom: 5px; }
        .result-type { font-size: 14px; color: #888; }
        .status-badge { padding: 8px 20px; border-radius: 20px; font-weight: 600; font-size: 14px; }
        .status-badge.success { background: #d4edda; color: #155724; }
        .status-badge.fail { background: #f8d7da; color: #721c24; }
        .comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0; }
        .comparison-item { background: white; padding: 15px; border-radius: 10px; }
        .comparison-label { font-size: 12px; color: #888; margin-bottom: 5px; }
        .comparison-value { font-size: 20px; font-weight: 600; color: #333; }
        .shortage { margin-top: 15px; padding: 15px; background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 8px; }
        .shortage-text { font-size: 14px; color: #856404; font-weight: 600; }
        .progress-bar { width: 100%; height: 30px; background: #e0e0e0; border-radius: 15px; overflow: hidden; margin-top: 15px; }
        .progress-fill {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
            transition: width 1s ease;
        }
        .reset-btn {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background: #f5f5f5;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 15px;
            color: #666;
            transition: all 0.3s;
        }
        .reset-btn:hover { background: #e0e0e0; }
        .hidden { display: none; }
        
        /* í”Œë¡œíŒ… ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .floating-buttons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 1000;
        }
        .floating-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s, box-shadow 0.3s;
            text-decoration: none;
            overflow: hidden;
        }
        .floating-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }
        .kakao-btn {
            padding: 0;
            background: transparent;
        }
        .kakao-btn img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 0;
        }
        .phone-btn {
            padding: 0;
            background: transparent;
        }
        .phone-btn img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        /* í”¼ë“œë°± ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
        button[onclick*="forms.gle"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(14, 165, 233, 0.4) !important;
        }
        
        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            /* body ì—¬ë°± ì œê±° */
            body {
                padding: 0;
                align-items: stretch;
            }
            
            /* ì»¨í…Œì´ë„ˆ ì—¬ë°± ìµœì†Œí™” */
            .container {
                padding: 15px;
                max-width: 100%;
                border-radius: 0;
                min-height: 100vh;
                max-height: none;
            }
            
            /* íšŒì‚¬ ë¸Œëœë”© í—¤ë” ì¡°ì • */
            .container > div:first-child > div > div:first-child > div {
                font-size: 17px !important;
            }
            
            .container > div:first-child > div > div:first-child img {
                width: 24px !important;
                height: 24px !important;
            }
            
            /* ì œëª© í¬ê¸° ì¡°ì • */
            h1 {
                font-size: 22px;
                margin-bottom: 15px;
            }
            
            .subtitle {
                font-size: 13px;
                margin-bottom: 15px;
            }
            
            /* ë²•ë¥  ì•ˆë‚´ ì—¬ë°± ì¶•ì†Œ */
            .legal-notice {
                margin-bottom: 20px;
                padding: 12px;
            }
            
            /* Step ê°„ê²© ì¶•ì†Œ */
            .step {
                margin-bottom: 20px;
            }
            
            /* 2ë‹¨ ë ˆì´ì•„ì›ƒì„ 1ë‹¨ìœ¼ë¡œ ë³€ê²½ */
            .container > div[style*="grid-template-columns: 1fr 1fr"] {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }
            
            /* ì¬ë¬´ìƒíƒœ ì…ë ¥ 2ë‹¨ ë ˆì´ì•„ì›ƒì„ 1ë‹¨ìœ¼ë¡œ */
            #financeSection > div[style*="grid-template-columns: 1fr 1fr"] {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }
            
            /* ë²„íŠ¼ ê·¸ë£¹ ê°„ê²© ì¶•ì†Œ */
            .button-group {
                gap: 10px;
            }
            
            /* ë²„íŠ¼ í¬ê¸° í™•ëŒ€ */
            .btn {
                padding: 14px;
                font-size: 15px;
            }
            
            /* ì…ë ¥ í•„ë“œ í¬ê¸° í™•ëŒ€ */
            .input-field {
                padding: 11px;
                font-size: 15px;
            }
            
            /* ì…ë ¥ ê·¸ë£¹ ê°„ê²© ì¶•ì†Œ */
            .input-group {
                margin-bottom: 15px;
            }
            
            /* ë‹¨ê³„ ì œëª© í¬ê¸° */
            .step-title {
                font-size: 16px;
                margin-bottom: 12px;
            }
            
            /* ê²°ê³¼ ë°•ìŠ¤ ì—¬ë°± ì¶•ì†Œ */
            .result {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            /* ê²°ê³¼ í‘œì‹œ í¬ê¸° */
            .result-value {
                font-size: 24px;
            }
            
            .comparison-value {
                font-size: 18px;
            }
            
            /* í”Œë¡œíŒ… ë²„íŠ¼ */
            .floating-buttons {
                bottom: 15px;
                right: 15px;
                gap: 10px;
                z-index: 9999;
            }
            .floating-btn {
                width: 60px;
                height: 60px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            }
            
            /* ì»¨í…Œì´ë„ˆ í•˜ë‹¨ ì—¬ë°± í™•ë³´ (í”Œë¡œíŒ… ë²„íŠ¼ ê³µê°„) */
            .container {
                padding-bottom: 100px;
            }
        }
        
        /* ê°€ë¡œ ëª¨ë“œ (Landscape) ëŒ€ì‘ */
        @media (max-width: 768px) and (orientation: landscape) {
            body {
                padding: 10px;
                align-items: center;
            }
            
            .container {
                border-radius: 15px;
                min-height: auto;
                max-height: 90vh;
            }
        }
        
        /* ê°„í¸ ê³„ì‚°ê¸° íŒì—… ìŠ¤íƒ€ì¼ */
        .calc-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }
        .calc-modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 25px;
            border-radius: 15px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            animation: slideDown 0.3s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .calc-modal-header {
            font-size: 18px;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #667eea;
        }
        .calc-input-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }
        .calc-input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.3s;
        }
        .calc-input:focus {
            outline: none;
            border-color: #667eea;
        }
        .calc-remove-btn {
            width: 35px;
            height: 35px;
            background: #ff5252;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: 700;
            transition: all 0.3s;
        }
        .calc-remove-btn:hover {
            background: #d32f2f;
            transform: scale(1.1);
        }
        .calc-add-btn {
            width: 100%;
            padding: 10px;
            background: #e3f2fd;
            color: #1976d2;
            border: 2px dashed #1976d2;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s;
        }
        .calc-add-btn:hover {
            background: #bbdefb;
        }
        .calc-total {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            text-align: center;
        }
        .calc-total-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        .calc-total-value {
            font-size: 24px;
            font-weight: 700;
        }
        .calc-modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        .calc-modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .calc-apply-btn {
            background: #667eea;
            color: white;
        }
        .calc-apply-btn:hover {
            background: #5568d3;
        }
        .calc-cancel-btn {
            background: #f5f5f5;
            color: #666;
        }
        .calc-cancel-btn:hover {
            background: #e0e0e0;
        }
        .calc-icon-btn {
            display: inline-block;
            margin-left: 5px;
            padding: 2px 6px;
            background: #e3f2fd;
            color: #1976d2;
            border: 1px solid #90caf9;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 600;
            transition: all 0.3s;
            vertical-align: middle;
        }
        .calc-icon-btn:hover {
            background: #1976d2;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- íšŒì‚¬ ë¸Œëœë”© í—¤ë” -->
        <div style="text-align: center; padding: 15px 0; border-bottom: 2px solid #e0e0e0; margin-bottom: 20px;">
            <div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
                <!-- ë¡œê³  + íšŒì‚¬ëª… -->
                <div style="display: flex; align-items: center; gap: 10px;">
                    <img src="gold.png" alt="ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°" style="width: 28px; height: 28px; flex-shrink: 0;">
                    <div style="font-size: 22px; font-weight: 800; color: #333; white-space: nowrap;">ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°</div>
                </div>
                <!-- ì—°ë½ì²˜ -->
                <div style="font-size: 12px; color: #666;">
                    â˜ 02-991-0331 | ğŸ“§ kyrtax@naver.com | ğŸŒ www.kyrtax.co.kr
                </div>
            </div>
        </div>
        
        <h1 id="mainTitle">ğŸ—ï¸ ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ ê°„ì´ê³„ì‚°ê¸°</h1>
        <p class="subtitle" id="mainSubtitle">ê±´ì„¤ì‚°ì—…ê¸°ë³¸ë²• ì‹œí–‰ë ¹ ê¸°ì¤€</p>
        
        <div style="background:#fff3cd;border-left:4px solid #ffc107;padding:15px;border-radius:8px;margin-bottom:35px;" id="legalNotice">
            <div style="font-size:13px;color:#856404;line-height:1.6;">
                <strong>âš ï¸ ë²•ì  ê³ ì§€ì‚¬í•­</strong><br>
                ë³¸ ê³„ì‚°ê¸°ëŠ” ì°¸ê³ ìš© ë„êµ¬ì´ë©°, ê³„ì‚° ê²°ê³¼ëŠ” ë²•ì  íš¨ë ¥ì´ ì—†ìŠµë‹ˆë‹¤. ì‹¤ì œ ê±´ì„¤ì—… ë“±ë¡ ì‹¬ì‚¬ ì‹œ ê´€ê³„ ë²•ë ¹ ë° ê°œë³„ ì‚¬ì•ˆì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •í™•í•œ ì‹¤ì§ˆìë³¸ ì‚°ì •ì´ í•„ìš”í•œ ê²½ìš° ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
            </div>
        </div>
        
        <div class="step">
            <div class="step-title">1ë‹¨ê³„: ê±´ì„¤ì—… êµ¬ë¶„ ì„ íƒ (ë³µìˆ˜ì„ íƒ ê°€ëŠ¥)</div>
            <div class="button-group" id="step1">
                <button class="btn" onclick="toggleType('comprehensive')">ì¢…í•©ê±´ì„¤ì—…</button>
                <button class="btn" onclick="toggleType('specialized')">ì „ë¬¸ê±´ì„¤ì—…</button>
            </div>
        </div>
        
        <div id="step2" class="step hidden">
            <div class="step-title">2ë‹¨ê³„: ë©´í—ˆ ì¢…ë¥˜ ì„ íƒ</div>
            
            <!-- ì¢…í•©ê±´ì„¤ì—… ë²„íŠ¼ -->
            <div id="comprehensiveSection" class="hidden" style="margin-bottom: 20px;">
                <div style="font-size: 14px; color: #667eea; font-weight: 600; margin-bottom: 10px;">ì¢…í•©ê±´ì„¤ì—…</div>
                <div class="button-group" id="comprehensiveButtons" style="grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));">
                    <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                </div>
            </div>
            
            <!-- ì „ë¬¸ê±´ì„¤ì—… ë²„íŠ¼ -->
            <div id="specializedSection" class="hidden">
                <div style="font-size: 14px; color: #667eea; font-weight: 600; margin-bottom: 10px;">ì „ë¬¸ê±´ì„¤ì—…</div>
                <div class="button-group" id="specializedButtons" style="grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); max-height: 400px; overflow-y: auto;">
                    <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                </div>
            </div>
            
            <div id="selectedLicenses"></div>
        </div>
        
        <div id="step3" class="step hidden">
            <div class="step-title">3ë‹¨ê³„: ì‚¬ì—…ì êµ¬ë¶„ ì„ íƒ</div>
            <div class="button-group">
                <button class="btn" onclick="selectEntity('corporation')">ë²•ì¸</button>
                <button class="btn" onclick="selectEntity('individual')">ê°œì¸</button>
            </div>
        </div>
        
        <div id="step4" class="step hidden" style="margin-top: 30px;">
            <div class="step-title" style="margin-bottom: 10px;">4ë‹¨ê³„: ê²¸ì—…ì‚¬ì—… ë³´ìœ  ì—¬ë¶€</div>
            <div style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 12px 15px; border-radius: 6px; margin-bottom: 20px;">
                <div style="font-size: 13px; color: #1565c0; line-height: 1.5;">
                    <strong>ğŸ’¡ ê²¸ì—…ì‚¬ì—…ì´ë€?</strong><br>
                    ê±´ì„¤ì‚°ì—…ê¸°ë³¸ë²•ìƒ ê±´ì„¤ì—… ì´ì™¸ì˜ ì‚¬ì—…ì„ ë§í•©ë‹ˆë‹¤.
                </div>
            </div>
            <div class="button-group">
                <button class="btn" onclick="selectSideBusiness('none')">ê²¸ì—…ì‚¬ì—… ì—†ìŒ</button>
                <button class="btn" onclick="selectSideBusiness('has')">ê²¸ì—…ì‚¬ì—… ìˆìŒ</button>
            </div>
        </div>
        
        <div id="sideBusinessDetail" class="step hidden" style="margin-top: 20px;">
            <div class="step-title" style="margin-bottom: 15px;">â”” ê²¸ì—…ì‚¬ì—… ìœ í˜• ì„ íƒ (ë³µìˆ˜ì„ íƒ ê°€ëŠ¥)</div>
            <div class="button-group" style="grid-template-columns: 1fr;">
                <button class="btn" id="noCapitalBtn" style="text-align: left; padding: 15px 20px;">
                    <strong>ë²•ì • ë“±ë¡ê¸°ì¤€ ìë³¸ê¸ˆì´ ì—†ëŠ” ì‚¬ì—…</strong><br>
                    <span style="font-size: 13px; font-weight: normal; color: #888;">ì œì¡°ì—…, ë„ì†Œë§¤ì—… ë“±</span>
                </button>
                <button class="btn" id="hasCapitalBtn" style="text-align: left; padding: 15px 20px;">
                    <strong>ë²•ì • ë“±ë¡ê¸°ì¤€ ìë³¸ê¸ˆì´ ìˆëŠ” ì‚¬ì—…</strong><br>
                    <span style="font-size: 13px; font-weight: normal; color: #888;">ì•„ë˜ ëª…ë‹¨ì—ì„œ ì„ íƒ</span>
                </button>
            </div>
        </div>
        
        <div id="sideBusinessList" class="step hidden" style="margin-top: 20px;">
            <div class="step-title" style="margin-bottom: 15px;">â”” ì—…ì¢… ì„ íƒ</div>
            <div class="button-group" id="sideCategoryButtons" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
            
            <div id="subCategorySection" class="hidden" style="margin-top: 15px;">
                <div class="step-title" style="margin-bottom: 15px;">â”” ì„¸ë¶€ì—…ì¢… ì„ íƒ</div>
                <div class="button-group" id="sideBusinessButtons" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                    <!-- ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                </div>
            </div>
            
            <div id="selectedSideBusinesses" style="margin-top: 10px;"></div>
        </div>
        
        <div id="requiredCapital" class="result">
            <div class="result-label">í•„ìš” ìë³¸ê¸ˆ (í•©ê³„)</div>
            <div class="result-value" id="capitalAmount">-</div>
            <div class="result-type" id="licenseInfo">-</div>
            <div style="margin-top: 15px; padding-top: 15px; border-top: 2px solid #e0e0e0;">
                <div class="result-label">í•„ìš” ê²¸ì—…ìë³¸ê¸ˆ (í•©ê³„)</div>
                <div class="result-value" style="font-size: 24px; color: #764ba2;" id="sideCapitalAmount">-</div>
                <div class="result-type" id="sideBusinessInfo">-</div>
            </div>
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0; background: linear-gradient(135deg, #fff9e6 0%, #ffe9a3 100%); padding: 20px; border-radius: 10px; border: 2px solid #ffb74d; box-shadow: 0 4px 12px rgba(255, 183, 77, 0.3);">
                <div class="result-label" style="font-size: 16px; font-weight: 700; color: #f57c00;">ì´ í•©ê³„ì•¡</div>
                <div class="result-value" style="font-size: 32px; color: #e65100; font-weight: 800;" id="totalCapitalAmount">-</div>
                <div class="result-type" style="font-size: 13px; color: #795548;">ê±´ì„¤ì—… ìë³¸ê¸ˆ + ê²¸ì—…ìë³¸ê¸ˆ</div>
            </div>
        </div>
        
        <div id="step5" class="step hidden" style="margin-top: 30px;">
            <div class="step-title" style="margin-bottom: 20px;">5ë‹¨ê³„: ì¬ë¬´ìƒíƒœ ì…ë ¥</div>
            <button class="btn" onclick="showFinanceInput()" style="width:100%; padding:20px; font-size:16px;">ğŸ“Š ì¬ë¬´ìƒíƒœ ì…ë ¥í•˜ê¸°</button>
        </div>
        
        <div id="financeSection" class="finance-section">
            <div class="finance-title">ğŸ“Š ì¬ë¬´ìƒíƒœ ì…ë ¥</div>
            
            <button onclick="showAllSteps()" style="padding:10px 20px; background:#f5f5f5; border:2px solid #e0e0e0; border-radius:8px; cursor:pointer; font-size:14px; margin-bottom:20px;">â† ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°€ê¸°</button>
            
            <!-- ê³„ì‚° ê¸°ëŠ¥ ì•ˆë‚´ -->
            <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border: 2px solid #ff9800; padding: 18px 22px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 3px 10px rgba(255, 152, 0, 0.2);">
                <div style="font-size: 15px; font-weight: 700; color: #e65100; margin-bottom: 10px;">
                    ğŸ’¡ ê°„í¸ ê³„ì‚° ê¸°ëŠ¥ ì•ˆë‚´
                </div>
                <div style="font-size: 13px; color: #424242; line-height: 1.7; background: white; padding: 12px 15px; border-radius: 6px; border-left: 4px solid #ff9800;">
                    <div style="margin-bottom: 8px;">
                        <strong style="color: #e65100;">ë°©ë²• 1)</strong> <span style="background: #e3f2fd; color: #1976d2; font-weight: 700; padding: 2px 6px; border-radius: 3px;">â• ë²„íŠ¼</span> í´ë¦­ â†’ ì—¬ëŸ¬ ê¸ˆì•¡ ì…ë ¥ â†’ ìë™ í•©ì‚°
                    </div>
                    <div>
                        <strong style="color: #e65100;">ë°©ë²• 2)</strong> <span style="background: #e8f5e9; color: #2e7d32; font-weight: 600; padding: 2px 6px; border-radius: 3px;">ì—‘ì…€ì—ì„œ ë³µì‚¬í•œ ì—¬ëŸ¬ ì¤„</span>ì„ ì…ë ¥ í•„ë“œì— ë¶™ì—¬ë„£ê¸° â†’ ìë™ í•©ì‚°
                    </div>
                </div>
            </div>
            
            <div style="text-align:right; color:#667eea; font-weight:600; font-size:13px; margin-bottom:15px; padding:8px 12px; background:#f0f4ff; border-radius:8px;">ë‹¨ìœ„: ì›</div>
            
            <!-- 2ë‹¨ ì»¬ëŸ¼ ë ˆì´ì•„ì›ƒ -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 25px;">
                
                <!-- ì¢Œì¸¡: ìì‚° ê´€ë ¨ -->
                <div style="background: #f8f9ff; padding: 20px; border-radius: 12px; border: 2px solid #e0e7ff;">
                    <div style="font-size: 16px; font-weight: 700; color: #667eea; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #e0e7ff;">
                        ğŸ’° ìì‚°
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">ìì‚°ì´ê³„</label>
                        <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="companyAsset" placeholder="0" oninput="formatNumber(this);calc()">
                    </div>
                    
                    <div class="input-group" style="margin-left:20px;">
                        <label class="input-label" style="font-size:13px;color:#777;">â”” ë¶€ì‹¤ìì‚° <span style="color:#667eea;font-size:11px;">ìë™ê³„ì‚°</span></label>
                        <input type="text" class="input-field" id="badAsset" readonly style="background:#e8f0fe;cursor:not-allowed;">
                        <button onclick="toggleBadAssetDetail()" style="margin-top:8px; padding:8px 15px; background:#fff; border:2px solid #e0e7ff; border-radius:8px; cursor:pointer; font-size:12px; color:#667eea; font-weight:600; width:100%;">
                            <span id="badAssetToggleIcon">â–¼</span> ì„¸ë¶€ í•­ëª© <span id="badAssetToggleText">í¼ì¹˜ê¸°</span>
                        </button>
                    </div>
                    
                    <div id="badAssetDetail" style="display:none;">
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ê°€. ë¬´ê¸°ëª…ì‹ ê¸ˆìœµìƒí’ˆ
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset1')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset1" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ë‚˜. ì‹¤ì¬í•˜ì§€ ì•Šê±°ë‚˜ ì¶œì²˜ê°€ ë¶ˆë¶„ëª…í•œ ìœ ê°€ì¦ê¶Œ
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset2')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset2" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ë‹¤. ê°€ì§€ê¸‰ê¸ˆ, ëŒ€ì—¬ê¸ˆ
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset3')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset3" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ë¼. ë¯¸ìˆ˜ê¸ˆ, ë¯¸ìˆ˜ìˆ˜ìµ
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset4')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset4" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ë§ˆ. ì„ ê¸‰ê¸ˆ, ì„ ë‚©ì„¸ê¸ˆ, ì„ ê¸‰ë¹„ìš©
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset5')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset5" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ë°”. ë¶€ë„ì–´ìŒ, ì¥ê¸°ì„±ë§¤ì¶œì±„ê¶Œ, ëŒ€ì† ì²˜ë¦¬í•  ìì‚°
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset6')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset6" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ì‚¬. ë¬´í˜•ìì‚°
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset7')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset7" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                        <div class="input-group" style="margin-left:40px;">
                            <label class="input-label" style="font-size:12px;color:#999;">
                                â”” ì•„. ê·¸ ë°–ì˜ ë¶€ì‹¤ìì‚°
                                <button type="button" class="calc-icon-btn" onclick="openCalc('badAsset8')">â•</button>
                            </label>
                            <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="badAsset8" placeholder="0" oninput="formatNumber(this);calcBadAsset();calc()" style="background:#fff;font-size:14px;">
                        </div>
                    </div>
                    
                    <div class="input-group" style="margin-left:20px;margin-bottom:25px;">
                        <label class="input-label" style="font-size:13px;color:#777;">
                            â”” ìˆ˜ì •ì‚¬í•­
                            <button type="button" class="calc-icon-btn" onclick="openCalc('assetAdj')">â•</button>
                        </label>
                        <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="assetAdj" placeholder="0" oninput="formatNumber(this);calc()" style="background:#fff;">
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">ì§„ë‹¨ëŒ€ìƒì‚¬ì—… ì‹¤ì§ˆ ìì‚° <span style="color:#667eea;font-size:12px;">ìë™ê³„ì‚°</span></label>
                        <input type="text" class="input-field" id="targetAsset" placeholder="0" readonly style="background:#e8f0fe;cursor:not-allowed;">
                    </div>
                </div>
                
                <!-- ìš°ì¸¡: ë¶€ì±„ ê´€ë ¨ -->
                <div style="background: #fff5f8; padding: 20px; border-radius: 12px; border: 2px solid #ffe0eb;">
                    <div style="font-size: 16px; font-weight: 700; color: #d946ef; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #ffe0eb;">
                        ğŸ“‹ ë¶€ì±„
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">ë¶€ì±„ì´ê³„</label>
                        <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="companyDebt" placeholder="0" oninput="formatNumber(this);calc()">
                    </div>
                    
                    <div class="input-group" style="margin-left:20px;">
                        <label class="input-label" style="font-size:13px;color:#777;">
                            â”” ìˆ˜ì •ì‚¬í•­
                            <button type="button" class="calc-icon-btn" onclick="openCalc('debtAdj')">â•</button>
                        </label>
                        <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="debtAdj" placeholder="0" oninput="formatNumber(this);calc()" style="background:#fff;">
                    </div>
                    
                    <div class="input-group" style="margin-left:20px;margin-bottom:25px;">
                        <label class="input-label" style="font-size:13px;color:#777;">
                            â”” ë¶€ì™¸ë¶€ì±„
                            <button type="button" class="calc-icon-btn" onclick="openCalc('offDebt')">â•</button>
                        </label>
                        <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="offDebt" placeholder="0" oninput="formatNumber(this);calc()" style="background:#fff;">
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">ì§„ë‹¨ëŒ€ìƒì‚¬ì—… ì‹¤ì§ˆ ë¶€ì±„ <span style="color:#667eea;font-size:12px;">ìë™ê³„ì‚°</span></label>
                        <input type="text" class="input-field" id="targetDebt" placeholder="0" readonly style="background:#e8f0fe;cursor:not-allowed;">
                    </div>
                </div>
            </div>
            
            <!-- ê²¸ì—…ìë³¸ ì„¹ì…˜ (ì „ì²´ í­ ì‚¬ìš©) -->
            <div style="background: #fef3e7; padding: 20px; border-radius: 12px; border: 2px solid #fdd89a; margin-bottom: 25px;">
                <div style="font-size: 16px; font-weight: 700; color: #ea580c; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #fdd89a;">
                    ğŸ¢ ê²¸ì—…ìë³¸
                </div>
            
            <div id="sideRatioSection">
                <div class="input-group">
                    <label class="input-label">ê²¸ì—…ë¹„ìœ¨ ì‚°ì • <span style="color:#667eea;font-size:12px;">ìˆ˜ì…ê¸ˆì•¡ ê¸°ì¤€</span></label>
                </div>
                
                <div class="input-group" style="margin-left:20px;">
                    <label class="input-label" style="font-size:13px;color:#777;">â”” ì´ ìˆ˜ì…ê¸ˆì•¡</label>
                    <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="totalRevenue" placeholder="0" oninput="formatNumber(this);calcSideRatio();calc()" style="background:#fafafa;">
                    <div class="input-hint">ì§„ë‹¨ëŒ€ìƒì‚¬ì—… + ê²¸ì—…ì‚¬ì—…ì˜ ì´ ìˆ˜ì…ê¸ˆì•¡</div>
                </div>
                
                <div class="input-group" style="margin-left:20px;margin-bottom:25px;">
                    <label class="input-label" style="font-size:13px;color:#777;">â”” ê²¸ì—…ì‚¬ì—… ìˆ˜ì…ê¸ˆì•¡</label>
                    <input type="text" inputmode="numeric" pattern="[0-9,]*" class="input-field" id="sideRevenue" placeholder="0" oninput="formatNumber(this);calcSideRatio();calc()" style="background:#fafafa;">
                    <div class="input-hint">ê²¸ì—…ì‚¬ì—…ì˜ ìˆ˜ì…ê¸ˆì•¡</div>
                </div>
                
                <div class="input-group" style="margin-left:20px;margin-bottom:25px;">
                    <label class="input-label" style="font-size:13px;color:#777;">â”” ê²¸ì—…ë¹„ìœ¨ (%) <span style="color:#667eea;font-size:11px;">ìë™ê³„ì‚°</span></label>
                    <input type="text" class="input-field" id="sideRatio" placeholder="0" readonly style="background:#e8f0fe;cursor:not-allowed;font-weight:600;">
                    <div class="input-hint" id="sideRatioHint" style="color:#667eea;font-weight:500;"></div>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">ê²¸ì—…ìë³¸ <span style="color:#667eea;font-size:12px;">ìë™ê³„ì‚°</span></label>
                <input type="text" class="input-field" id="sideCap" placeholder="0" readonly style="background:#e8f0fe;cursor:not-allowed;">
                <div id="sideCapWarning" style="display:none; margin-top:8px; padding:10px; background:#fff3cd; border-left:4px solid #ffc107; border-radius:6px;">
                    <div style="font-size:12px; color:#856404; font-weight:600;">âš ï¸ ê²¸ì—…ìë³¸ì´ ê¸°ì¤€ìë³¸ê¸ˆì•¡ì— ë¯¸ë‹¬í•©ë‹ˆë‹¤</div>
                    <div style="font-size:11px; color:#856404; margin-top:4px;" id="sideCapWarningDetail"></div>
                </div>
                <button onclick="toggleSideCapDetail()" style="margin-top:8px; padding:8px 15px; background:#f8f9ff; border:2px solid #e0e7ff; border-radius:8px; cursor:pointer; font-size:12px; color:#667eea; font-weight:600; width:100%;">
                    <span id="sideCapToggleIcon">â–¼</span> ì„¸ë¶€ í•­ëª© <span id="sideCapToggleText">í¼ì¹˜ê¸°</span>
                </button>
            </div>
            
            <div id="sideCapDetail" style="display:none;">
                <div class="input-group" style="margin-left:20px;">
                    <label class="input-label" style="font-size:13px;color:#777;">â”” ê²¸ì—… ìì‚°</label>
                </div>
                
                <div class="input-group" style="margin-left:40px;">
                    <label class="input-label" style="font-size:12px;color:#999;">
                        ê°€. ì§€ì¹¨ì—ì„œ ê²¸ì—…ìì‚°ìœ¼ë¡œ ì—´ê±°í•œ ìì‚°
                        <button type="button" class="calc-icon-btn" onclick="openCalc('sideAsset1')">â•</button>
                    </label>
                    <input type="text" class="input-field" id="sideAsset1" placeholder="0" value="0" oninput="formatNumber(this);calcSideAsset();calc()" style="background:#fff;font-size:14px;">
                    <div class="input-hint">ìœ ê°€ì¦ê¶Œ, íˆ¬ììì‚°, ì„ëŒ€ìì‚°, ìš´íœ´ìì‚° ë“±</div>
                </div>
                
                <div class="input-group" style="margin-left:40px;">
                    <label class="input-label" style="font-size:12px;color:#999;">
                        ë‚˜. ê²¸ì—…ì‚¬ì—…ì„ ìœ„í•˜ì—¬ ì œê³µëœ ìì‚°
                        <button type="button" class="calc-icon-btn" onclick="openCalc('sideAsset2')">â•</button>
                    </label>
                    <input type="text" class="input-field" id="sideAsset2" placeholder="0" value="0" oninput="formatNumber(this);calcSideAsset();calc()" style="background:#fff;font-size:14px;">
                    <div class="input-hint">ì‹¤ì§€ê·€ì†ì´ ë¶„ëª…í•œ ê²¸ì—…ìì‚°</div>
                </div>
                
                <div class="input-group" style="margin-left:40px;margin-bottom:20px;">
                    <label class="input-label" style="font-size:12px;color:#999;">
                        ë‹¤. ê³µí†µìì‚° <span style="color:#667eea;font-size:11px;">ê²¸ì—…ë¹„ìœ¨ ìë™ ì ìš©</span>
                        <button type="button" class="calc-icon-btn" onclick="openCalc('sideAsset3')">â•</button>
                    </label>
                    <input type="text" class="input-field" id="sideAsset3" placeholder="0" value="0" oninput="formatNumber(this);calcSideAsset();calc()" style="background:#fff;font-size:14px;">
                    <div class="input-hint">ì§„ë‹¨ëŒ€ìƒì‚¬ì—…ê³¼ ê²¸ì—…ì‚¬ì—…ì— ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ìì‚°</div>
                </div>
                
                <div class="input-group" style="margin-left:20px;">
                    <label class="input-label" style="font-size:13px;color:#777;">â”” ê²¸ì—…ìì‚° í•©ê³„ <span style="color:#667eea;font-size:11px;">ìë™ê³„ì‚°</span></label>
                    <input type="text" class="input-field" id="sideAsset" placeholder="0" readonly style="background:#e8f0fe;cursor:not-allowed;">
                </div>
                
                <div class="input-group" style="margin-left:20px;">
                    <label class="input-label" style="font-size:13px;color:#777;">â”” ê²¸ì—… ë¶€ì±„</label>
                </div>
                
                <div class="input-group" style="margin-left:40px;">
                    <label class="input-label" style="font-size:12px;color:#999;">
                        ê°€. ê²¸ì—…ìì‚°ê³¼ ì§ì ‘ ê´€ë ¨ëœ ë¶€ì±„
                        <button type="button" class="calc-icon-btn" onclick="openCalc('sideDebt1')">â•</button>
                    </label>
                    <input type="text" class="input-field" id="sideDebt1" placeholder="0" value="0" oninput="formatNumber(this);calcSideDebt();calc()" style="background:#fff;font-size:14px;">
                    <div class="input-hint">ê²¸ì—…ìì‚° ì·¨ë“ ê´€ë ¨ ë¶€ì±„</div>
                </div>
                
                <div class="input-group" style="margin-left:40px;">
                    <label class="input-label" style="font-size:12px;color:#999;">
                        ë‚˜. ì‹¤ì§€ê·€ì†ì´ ë¶„ëª…í•œ ê²¸ì—…ë¶€ì±„
                        <button type="button" class="calc-icon-btn" onclick="openCalc('sideDebt2')">â•</button>
                    </label>
                    <input type="text" class="input-field" id="sideDebt2" placeholder="0" value="0" oninput="formatNumber(this);calcSideDebt();calc()" style="background:#fff;font-size:14px;">
                    <div class="input-hint">ê²¸ì—…ì‚¬ì—… ê´€ë ¨ ëª…í™•í•œ ë¶€ì±„</div>
                </div>
                
                <div class="input-group" style="margin-left:40px;margin-bottom:20px;">
                    <label class="input-label" style="font-size:12px;color:#999;">
                        ë‹¤. ê³µí†µë¶€ì±„ <span style="color:#667eea;font-size:11px;">ê²¸ì—…ë¹„ìœ¨ ìë™ ì ìš©</span>
                        <button type="button" class="calc-icon-btn" onclick="openCalc('sideDebt3')">â•</button>
                    </label>
                    <input type="text" class="input-field" id="sideDebt3" placeholder="0" value="0" oninput="formatNumber(this);calcSideDebt();calc()" style="background:#fff;font-size:14px;">
                    <div class="input-hint">ì§„ë‹¨ëŒ€ìƒì‚¬ì—…ê³¼ ê²¸ì—…ì‚¬ì—…ì— ê³µí†µìœ¼ë¡œ ê´€ë ¨ëœ ë¶€ì±„</div>
                </div>
                
                <div class="input-group" style="margin-left:20px;margin-bottom:25px;">
                    <label class="input-label" style="font-size:13px;color:#777;">â”” ê²¸ì—…ë¶€ì±„ í•©ê³„ <span style="color:#667eea;font-size:11px;">ìë™ê³„ì‚°</span></label>
                    <input type="text" class="input-field" id="sideDebt" placeholder="0" readonly style="background:#e8f0fe;cursor:not-allowed;">
                </div>
            </div>
            </div>
            
            <button class="calculate-btn" onclick="calculateCapital()">ì‹¤ì§ˆìë³¸ ê³„ì‚°í•˜ê¸°</button>
        </div>
        
        <div id="finalResult" class="result">
            <div class="result-header">
                <div>
                    <div class="result-label">ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸</div>
                    <div class="result-value" id="calculatedCapital">-</div>
                </div>
                <div class="status-badge" id="statusBadge">-</div>
            </div>
            
            <div class="comparison">
                <div class="comparison-item">
                    <div class="comparison-label">ê±´ì„¤ì—… ìë³¸ê¸ˆ ë“±ë¡ê¸°ì¤€</div>
                    <div class="comparison-value" id="requiredAmount">-</div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-label">ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸</div>
                    <div class="comparison-value" id="actualAmount">-</div>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progress">0%</div>
            </div>
            
            <div id="shortageAlert" class="shortage" style="display: none;">
                <div class="shortage-text" id="shortageText">-</div>
            </div>
        </div>
        
        <button class="reset-btn" onclick="reset()">ë‹¤ì‹œ ê³„ì‚°í•˜ê¸°</button>
        
        <!-- íšŒì‚¬ ì •ë³´ í‘¸í„° -->
        <div style="margin-top: 30px; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; color: white; text-align: center;">
            <div style="font-size: 12px; opacity: 0.95; margin-bottom: 8px;">
                Â© 2025 ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ. All rights reserved.
            </div>
            <div style="font-size: 10px; opacity: 0.8; border-top: 1px solid rgba(255,255,255,0.3); padding-top: 8px;">
                ë³¸ ê³„ì‚°ê¸°ì˜ ë¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.
                <span style="opacity: 0.5; margin: 0 8px;">|</span>
                <a href="https://naver.me/xGFgNN3M" target="_blank" 
                   style="color: white; text-decoration: none; opacity: 0.85; transition: opacity 0.3s;"
                   onmouseover="this.style.opacity='1'; this.style.textDecoration='underline';"
                   onmouseout="this.style.opacity='0.85'; this.style.textDecoration='none';">ê°œì„  ì˜ê²¬</a>
            </div>
        </div>
    </div>

    <script>
        /*
         * ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ ê°„ì´ê³„ì‚°ê¸°
         * Copyright Â© 2024. All rights reserved.
         * ë¬´ë‹¨ ë³µì œ, ìˆ˜ì •, ë°°í¬ ê¸ˆì§€
         */

        console.log('%câš ï¸ ì €ì‘ê¶Œ ê²½ê³ ', 'color: red; font-size: 20px; font-weight: bold;');
        console.log('%cë³¸ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì €ì‘ê¶Œìœ¼ë¡œ ë³´í˜¸ë©ë‹ˆë‹¤.', 'font-size: 14px;');

        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('selectstart', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if ((e.ctrlKey || e.metaKey) && (e.key === 'u' || e.key === 'U')) {
                e.preventDefault();
                alert('âš ï¸ ì†ŒìŠ¤ ë³´ê¸°ëŠ” ì œí•œë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
            }
        });

        const data = {
            comprehensive: {
                'í† ëª©ê³µì‚¬ì—…': {corporation: 500000000, individual: 1000000000},
                'ê±´ì¶•ê³µì‚¬ì—…': {corporation: 350000000, individual: 700000000},
                'í† ëª©ê±´ì¶•ê³µì‚¬ì—…': {corporation: 850000000, individual: 1700000000},
                'ì‚°ì—…Â·í™˜ê²½ì„¤ë¹„ê³µì‚¬ì—…': {corporation: 850000000, individual: 1700000000},
                'ì¡°ê²½ê³µì‚¬ì—…': {corporation: 500000000, individual: 1000000000}
            },
            specialized: {
                'ì§€ë°˜ì¡°ì„±Â·í¬ì¥ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ì‹¤ë‚´ê±´ì¶•ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ê¸ˆì†Â·ì°½í˜¸Â·ì§€ë¶•Â·ê±´ì¶•ë¬¼ì¡°ë¦½ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ë„ì¥Â·ìŠµì‹Â·ë°©ìˆ˜Â·ì„ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ì¡°ê²½ì‹ì¬Â·ì‹œì„¤ë¬¼ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ì² ê·¼Â·ì½˜í¬ë¦¬íŠ¸ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'êµ¬ì¡°ë¬¼í•´ì²´Â·ë¹„ê³„ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ìƒÂ·í•˜ìˆ˜ë„ì„¤ë¹„ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ì² ë„Â·ê¶¤ë„ê³µì‚¬ì—…': {corporation: 150000000, individual: 300000000},
                'ì² ê°•êµ¬ì¡°ë¬¼ê³µì‚¬ì—…': {corporation: 150000000, individual: 300000000},
                'ìˆ˜ì¤‘Â·ì¤€ì„¤ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ìŠ¹ê°•ê¸°Â·ì‚­ë„ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ê¸°ê³„ì„¤ë¹„Â·ê°€ìŠ¤ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
                'ê°€ìŠ¤Â·ë‚œë°©ê³µì‚¬ì—…': {corporation: 0, individual: 0}
            }
        };

        const sideBusinessCategories = {
            'ê±´ì„¤ì—”ì§€ë‹ˆì–´ë§ì—…': {
                'ì¢…í•©': {corporation: 200000000, individual: 0},
                'ì„¤ê³„Â·ìë¬¸ê´€ë¦¬': {corporation: 50000000, individual: 0}
            },
            'ì†Œë°©ì‹œì„¤ê³µì‚¬ì—…': {
                'ì „ë¬¸ì†Œë°©ì‹œì„¤ê³µì‚¬ì—…': {corporation: 100000000, individual: 100000000},
                'ì¼ë°˜ì†Œë°©ì‹œì„¤ê³µì‚¬ì—…': {corporation: 100000000, individual: 100000000}
            },
            'ì „ê¸°ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
            'ì •ë³´í†µì‹ ê³µì‚¬ì—…': {corporation: 150000000, individual: 150000000},
            'ê°ë¦¬ì—…': {
                'ì¢…í•©ê°ë¦¬ì—…': {corporation: 100000000, individual: 0},
                'ì „ë¬¸ê°ë¦¬ì—…': {corporation: 50000000, individual: 0}
            },
            'ì˜ì•½í’ˆë„ë§¤ìƒ': {
                'ì˜ì•½í’ˆë„ë§¤ìƒ': {corporation: 500000000, individual: 500000000},
                'ì‹œì•½': {corporation: 200000000, individual: 200000000},
                'í•œì•½ì—…': {corporation: 200000000, individual: 200000000},
                'ìˆ˜ì…ì˜ì•½í’ˆ': {corporation: 200000000, individual: 200000000},
                'ì›ë£Œì˜ì•½í’ˆ': {corporation: 200000000, individual: 200000000},
                'ë³µì§€ë¶€ì¥ê´€ ê³ ì‹œ ì¼ë°˜ ì˜ì•½í’ˆ': {corporation: 200000000, individual: 200000000}
            },
            'ì‚°ë¦¼ì‚¬ì—…ë²•ì¸': {
                'ì‚°ë¦¼ê²½ì˜ê³„íš ë° ì‚°ë¦¼ì¡°ì‚¬': {corporation: 100000000, individual: 0},
                'ìˆ²ê°€ê¾¸ê¸° ë° ë³‘í•´ì¶©ë°©ì œ': {corporation: 100000000, individual: 0},
                'ì‚°ë¦¼í† ëª©': {corporation: 300000000, individual: 0},
                'ìì—°íœ´ì–‘ë¦¼ ë“± ì¡°ì„±': {corporation: 300000000, individual: 0},
                'ë„ì‹œìˆ²ë“±ì˜ ì¡°ì„±á†ê´€ë¦¬': {corporation: 100000000, individual: 0},
                'ìˆ²ê¸¸ ì¡°ì„± ê´€ë¦¬': {corporation: 300000000, individual: 0}
            },
            'ë‚˜ë¬´ë³‘ì›': {corporation: 100000000, individual: 0},
            'ì¢…í•©êµ­ê°€ìœ ì‚°ìˆ˜ë¦¬ì—…': {corporation: 200000000, individual: 200000000},
            'ì „ë¬¸êµ­ê°€ìœ ì‚°ìˆ˜ë¦¬ì—…': {
                'ì¡°ê²½ì—…': {corporation: 50000000, individual: 50000000},
                'ì‹ë¬¼ë³´í˜¸ì—…': {corporation: 50000000, individual: 50000000},
                'ëª©ê³µì‚¬ì—…': {corporation: 50000000, individual: 50000000},
                'ë²ˆì™€ê³µì‚¬ì—…': {corporation: 50000000, individual: 50000000},
                'ì˜¨ëŒê³µì‚¬ì—…': {corporation: 50000000, individual: 50000000},
                'ë³´ì¡´ê³¼í•™ì—…': {corporation: 50000000, individual: 50000000},
                'ë‹¨ì²­ê³µì‚¬ì—…': {corporation: 50000000, individual: 50000000},
                'ì„ê³µì‚¬ì—…': {corporation: 50000000, individual: 50000000},
                'ë¯¸ì¥ê³µì‚¬ì—…': {corporation: 50000000, individual: 50000000}
            },
            'êµ­ê°€ìœ ì‚°ê°ë¦¬ì—…': {corporation: 50000000, individual: 50000000},
            'ë°©ì†¡ì±„ë„ì‚¬ìš©ì‚¬ì—…': {corporation: 500000000, individual: 0},
            'ì¸í„°ë„· ë©€í‹°ë¯¸ë””ì–´ ë°©ì†¡ì‚¬ì—…': {corporation: 500000000, individual: 0}
        };

        let types = [], licenses = [], entity = null, reqCap = 0;
        let hasSideBusiness = null, sideBusinessTypes = [], sideBusinesses = [], sideBusReqCap = 0;
        let adjustedReqCap = 0; // ë‚˜ë¬´ë³‘ì›-ì¡°ê²½ì—… ìƒí˜¸ì¸ì • ì ìš©ëœ ì¡°ì • ìë³¸ê¸ˆ

        function formatNumber(input) {
            let v = input.value.replace(/,/g, '').replace(/[^\d-]/g, '');
            if (v) {
                const neg = v.startsWith('-');
                const abs = v.replace('-', '');
                if (abs) v = (neg ? '-' : '') + parseInt(abs).toLocaleString('ko-KR');
            }
            input.value = v;
        }

        function parse(v) {
            return v ? (parseFloat(v.replace(/,/g, '')) || 0) : 0;
        }

        function fmt(n) {
            if (n >= 1000000000000) {
                // ì¡° ë‹¨ìœ„
                const jo = Math.floor(n / 1000000000000);
                const remainder = n % 1000000000000;
                const e = Math.floor(remainder / 100000000);
                const m = Math.floor((remainder % 100000000) / 10000);
                
                let result = `${jo}ì¡°`;
                if (e > 0) {
                    result += ` ${e}ì–µ`;
                }
                if (m > 0) {
                    result += ` ${m.toLocaleString('ko-KR')}ë§Œì›`;
                } else if (e > 0) {
                    result += `ì›`;
                } else {
                    result += `ì›`;
                }
                return result;
            }
            if (n >= 100000000) {
                const e = Math.floor(n / 100000000);
                const m = Math.floor((n % 100000000) / 10000);
                if (m > 0) {
                    // ë§Œì› ë‹¨ìœ„ì— ì‰¼í‘œ ì¶”ê°€
                    const mFormatted = m.toLocaleString('ko-KR');
                    return `${e}ì–µ ${mFormatted}ë§Œì›`;
                } else {
                    return `${e}ì–µì›`;
                }
            }
            if (n >= 10000) {
                const m = Math.floor(n / 10000);
                return `${m.toLocaleString('ko-KR')}ë§Œì›`;
            }
            return `${n.toLocaleString('ko-KR')}ì›`;
        }

        function calcSideRatio() {
            const totalRev = parse(document.getElementById('totalRevenue').value);
            const sideRev = parse(document.getElementById('sideRevenue').value);
            
            let ratio = 0;
            let hintText = '';
            
            if (totalRev > 0 && sideRev > 0) {
                // ìˆ˜ì…ê¸ˆì•¡ì´ ë‘˜ ë‹¤ ìˆëŠ” ê²½ìš°: ìˆ˜ì…ê¸ˆì•¡ ë¹„ìœ¨ë¡œ ê³„ì‚°
                ratio = (sideRev / totalRev) * 100;
                hintText = `ìˆ˜ì…ê¸ˆì•¡ ê¸°ì¤€: ${fmt(sideRev)} Ã· ${fmt(totalRev)} = ${ratio.toFixed(2)}%`;
            } else if (sideBusReqCap > 0) {
                // í•œìª½ì´ë¼ë„ ìˆ˜ì…ê¸ˆì•¡ì´ ì—†ê³  ë²•ì • ê¸°ì¤€ìë³¸ê¸ˆì´ ìˆëŠ” ê²½ìš°
                const totalReqCap = adjustedReqCap + sideBusReqCap;
                if (totalReqCap > 0) {
                    ratio = (sideBusReqCap / totalReqCap) * 100;
                    hintText = `ê¸°ì¤€ìë³¸ê¸ˆ ë¹„ìœ¨: ${fmt(sideBusReqCap)} Ã· ${fmt(totalReqCap)} = ${ratio.toFixed(2)}%`;
                }
            } else {
                hintText = 'ìˆ˜ì…ê¸ˆì•¡ì„ ì…ë ¥í•˜ê±°ë‚˜ ê²¸ì—…ì‚¬ì—…ì„ ì„ íƒí•˜ì„¸ìš”';
            }
            
            document.getElementById('sideRatio').value = ratio > 0 ? ratio.toFixed(2) + '%' : '0%';
            document.getElementById('sideRatioHint').textContent = hintText;
            
            return ratio / 100; // ì†Œìˆ˜ì ìœ¼ë¡œ ë°˜í™˜
        }

        function calcSideAsset() {
            const asset1 = parse(document.getElementById('sideAsset1').value); // ì§€ì¹¨ ì—´ê±° ìì‚°
            const asset2 = parse(document.getElementById('sideAsset2').value); // ì‹¤ì§€ê·€ì† ìì‚°
            const asset3 = parse(document.getElementById('sideAsset3').value); // ê³µí†µìì‚°
            
            const ratio = calcSideRatio();
            
            // ê³µí†µìì‚°ì— ê²¸ì—…ë¹„ìœ¨ ì ìš©
            const allocatedAsset3 = asset3 * ratio;
            
            const total = asset1 + asset2 + allocatedAsset3;
            document.getElementById('sideAsset').value = total.toLocaleString('ko-KR');
        }

        function calcSideDebt() {
            const debt1 = parse(document.getElementById('sideDebt1').value); // ì§ì ‘ ê´€ë ¨ ë¶€ì±„
            const debt2 = parse(document.getElementById('sideDebt2').value); // ì‹¤ì§€ê·€ì† ë¶€ì±„
            const debt3 = parse(document.getElementById('sideDebt3').value); // ê³µí†µë¶€ì±„
            
            const ratio = calcSideRatio();
            
            // ê³µí†µë¶€ì±„ì— ê²¸ì—…ë¹„ìœ¨ ì ìš©
            const allocatedDebt3 = debt3 * ratio;
            
            const total = debt1 + debt2 + allocatedDebt3;
            document.getElementById('sideDebt').value = total.toLocaleString('ko-KR');
        }

        function calc() {
            const sa = parse(document.getElementById('sideAsset').value);
            const sd = parse(document.getElementById('sideDebt').value);
            const calculatedSideCap = sa - sd;
            
            // ì‹¤ì œ ê³„ì‚°ëœ ê²¸ì—…ìë³¸ í‘œì‹œ
            document.getElementById('sideCap').value = calculatedSideCap.toLocaleString('ko-KR');
            
            // ì œ28ì¡° 2í•­: ê¸°ì¤€ìë³¸ì•¡ ë¯¸ë‹¬ ì—¬ë¶€ í™•ì¸ ë° ê²½ê³  í‘œì‹œ
            const warningDiv = document.getElementById('sideCapWarning');
            const warningDetail = document.getElementById('sideCapWarningDetail');
            
            if (sideBusReqCap > 0 && calculatedSideCap < sideBusReqCap) {
                const shortage = sideBusReqCap - calculatedSideCap;
                warningDiv.style.display = 'block';
                warningDetail.textContent = `ê²¸ì—…ì‚¬ì—… ê¸°ì¤€ìë³¸ê¸ˆì•¡ ${fmt(sideBusReqCap)}ì— ${fmt(shortage)} ë¶€ì¡±í•˜ì—¬, ê±´ì„¤ì—… ì‹¤ì§ˆìë³¸ì—ì„œ ì°¨ê°ë©ë‹ˆë‹¤.`;
            } else {
                warningDiv.style.display = 'none';
            }
            
            const ca = parse(document.getElementById('companyAsset').value);
            const ba = parse(document.getElementById('badAsset').value);
            const aa = parse(document.getElementById('assetAdj').value);
            const cd = parse(document.getElementById('companyDebt').value);
            const da = parse(document.getElementById('debtAdj').value);
            const od = parse(document.getElementById('offDebt').value);
            const ta = ca - ba + aa - sa;
            const td = cd + da + od - sd;
            document.getElementById('targetAsset').value = ta.toLocaleString('ko-KR');
            document.getElementById('targetDebt').value = td.toLocaleString('ko-KR');
        }

        function calcBadAsset() {
            let total = 0;
            for (let i = 1; i <= 8; i++) {
                total += parse(document.getElementById('badAsset' + i).value);
            }
            document.getElementById('badAsset').value = total.toLocaleString('ko-KR');
        }

        function toggleBadAssetDetail() {
            const detail = document.getElementById('badAssetDetail');
            const icon = document.getElementById('badAssetToggleIcon');
            const text = document.getElementById('badAssetToggleText');
            
            if (detail.style.display === 'none') {
                detail.style.display = 'block';
                icon.textContent = 'â–²';
                text.textContent = 'ì ‘ê¸°';
            } else {
                detail.style.display = 'none';
                icon.textContent = 'â–¼';
                text.textContent = 'í¼ì¹˜ê¸°';
            }
        }

        function toggleSideCapDetail() {
            const detail = document.getElementById('sideCapDetail');
            const icon = document.getElementById('sideCapToggleIcon');
            const text = document.getElementById('sideCapToggleText');
            
            if (detail.style.display === 'none') {
                detail.style.display = 'block';
                icon.textContent = 'â–²';
                text.textContent = 'ì ‘ê¸°';
            } else {
                detail.style.display = 'none';
                icon.textContent = 'â–¼';
                text.textContent = 'í¼ì¹˜ê¸°';
            }
        }

        function toggleType(t) {
            const idx = types.indexOf(t);
            if (idx > -1) {
                types.splice(idx, 1);
                event.target.classList.remove('active');
                licenses = licenses.filter(l => l.type !== t);
                updateLicenses();
            } else {
                types.push(t);
                event.target.classList.add('active');
                
                // ë²„íŠ¼ ìƒì„±
                const container = document.getElementById(t + 'Buttons');
                container.innerHTML = '';
                Object.keys(data[t]).forEach(licenseName => {
                    const btn = document.createElement('button');
                    btn.className = 'btn';
                    btn.textContent = licenseName;
                    btn.onclick = function() {
                        addLicenseByButton(t, licenseName, btn);
                    };
                    container.appendChild(btn);
                });
            }
            document.getElementById('comprehensiveSection').classList.toggle('hidden', !types.includes('comprehensive'));
            document.getElementById('specializedSection').classList.toggle('hidden', !types.includes('specialized'));
            if (types.length > 0) {
                document.getElementById('step2').classList.remove('hidden');
            } else {
                document.getElementById('step2').classList.add('hidden');
                document.getElementById('step3').classList.add('hidden');
                document.getElementById('step4').classList.add('hidden');
                document.getElementById('sideBusinessDetail').classList.add('hidden');
                document.getElementById('sideBusinessList').classList.add('hidden');
                document.getElementById('requiredCapital').classList.remove('show');
                document.getElementById('step5').classList.add('hidden');
            }
            if (licenses.length === 0) {
                document.getElementById('step3').classList.add('hidden');
                document.getElementById('step4').classList.add('hidden');
            } else if (entity) {
                calcTotal();
            }
        }

        function addLicenseByButton(type, licenseName, btn) {
            // ì´ë¯¸ ì„ íƒëœ ê²½ìš° ì œê±°
            const existing = licenses.find(l => l.name === licenseName);
            if (existing) {
                licenses = licenses.filter(l => l.name !== licenseName);
                btn.classList.remove('active');
                updateLicenses();
                if (licenses.length === 0) {
                    document.getElementById('step3').classList.add('hidden');
                    document.getElementById('step4').classList.add('hidden');
                }
                return;
            }
            
            // ìƒˆë¡œ ì¶”ê°€
            btn.classList.add('active');
            licenses.push({ type: type, name: licenseName });
            updateLicenses();
            document.getElementById('step3').classList.remove('hidden');
            if (entity) {
                calcTotal();
            }
        }

        function addLicense(t) {
            const sel = document.getElementById(t + 'Select');
            const ln = sel.value;
            if (!ln) return;
            if (licenses.find(l => l.name === ln)) {
                alert('ì´ë¯¸ ì„ íƒëœ ë©´í—ˆì…ë‹ˆë‹¤.');
                sel.value = '';
                return;
            }
            licenses.push({name: ln, type: t});
            updateLicenses();
            document.getElementById('step3').classList.remove('hidden');
            document.querySelectorAll('#step3 .btn').forEach(b => b.classList.remove('active'));
            entity = null;
            document.getElementById('step4').classList.add('hidden');
            document.getElementById('requiredCapital').classList.remove('show');
            sel.value = '';
        }

        function updateLicenses() {
            const cont = document.getElementById('selectedLicenses');
            if (licenses.length === 0) {
                cont.innerHTML = '';
                return;
            }
            let h = '<div class="license-list"><div class="license-list-title">ì„ íƒëœ ë©´í—ˆ:</div>';
            licenses.forEach((l, i) => {
                const typeLabel = l.type === 'comprehensive' ? '[ì¢…í•©]' : '[ì „ë¬¸]';
                h += `<span class="license-tag">${typeLabel} ${l.name}<span class="license-tag-remove" onclick="removeLicense(${i})">âœ•</span></span>`;
            });
            h += '</div>';
            cont.innerHTML = h;
        }

        function removeLicense(i) {
            const removedLicense = licenses[i];
            licenses.splice(i, 1);
            
            // í•´ë‹¹ ë²„íŠ¼ ë¹„í™œì„±í™”
            const containerId = removedLicense.type === 'comprehensive' ? 'comprehensiveButtons' : 'specializedButtons';
            const buttons = document.querySelectorAll(`#${containerId} .btn`);
            buttons.forEach(btn => {
                if (btn.textContent.trim() === removedLicense.name) {
                    btn.classList.remove('active');
                }
            });
            
            updateLicenses();
            if (licenses.length === 0) {
                document.getElementById('step3').classList.add('hidden');
                document.getElementById('step4').classList.add('hidden');
                document.getElementById('requiredCapital').classList.remove('show');
            } else if (entity) {
                calcTotal();
            }
        }

        function selectEntity(e) {
            document.querySelectorAll('#step3 .btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            entity = e;
            calcTotal();
        }

        function calcTotal() {
            if (!entity || licenses.length === 0) return;
            let capitalList = licenses.map(l => ({
                name: l.name,
                type: l.type,
                amount: data[l.type][l.name][entity]
            }));
            capitalList.sort((a, b) => b.amount - a.amount);
            let total = 0;
            if (capitalList.length === 1) {
                total = capitalList[0].amount;
            } else {
                total = capitalList[0].amount;
                if (capitalList.length >= 2) {
                    const maxCapitalHalf = capitalList[0].amount / 2;
                    const secondCapitalHalf = capitalList[1].amount / 2;
                    const reduction = Math.min(maxCapitalHalf, secondCapitalHalf);
                    total += capitalList[1].amount - reduction;
                }
                for (let i = 2; i < capitalList.length; i++) {
                    total += capitalList[i].amount;
                }
            }
            reqCap = total;
            const et = entity === 'corporation' ? 'ë²•ì¸' : 'ê°œì¸';
            const licenseText = licenses.map(l => {
                const typeLabel = l.type === 'comprehensive' ? '[ì¢…í•©]' : '[ì „ë¬¸]';
                return `${typeLabel} ${l.name}`;
            }).join(', ');
            document.getElementById('capitalAmount').textContent = fmt(reqCap);
            document.getElementById('licenseInfo').textContent = `${licenseText} (${et})`;
            document.getElementById('step4').classList.remove('hidden');
            updateRequiredCapitalDisplay();
        }

        function selectSideBusiness(choice) {
            hasSideBusiness = choice;
            document.querySelectorAll('#step4 .btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            // ê²¸ì—…ì‚¬ì—… ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ í•„ìš”í•œ í•„ë“œ (ê°€ í•­ëª©)
            const alwaysActiveFields = ['sideAsset1', 'sideDebt1'];
            
            // ê²¸ì—…ì‚¬ì—…ì´ ìˆì„ ë•Œë§Œ í•„ìš”í•œ í•„ë“œ
            const conditionalFields = [
                'totalRevenue', 'sideRevenue',
                'sideAsset2', 'sideAsset3',
                'sideDebt2', 'sideDebt3'
            ];
            
            if (choice === 'none') {
                sideBusinessTypes = [];
                sideBusinesses = [];
                document.getElementById('sideBusinessDetail').classList.add('hidden');
                document.getElementById('sideBusinessList').classList.add('hidden');
                document.getElementById('sideRatioSection').classList.add('hidden'); // ê²¸ì—…ë¹„ìœ¨ ì‚°ì • ì„¹ì…˜ë„ ìˆ¨ê¹€
                document.querySelectorAll('#sideBusinessDetail .btn').forEach(b => b.classList.remove('active'));
                
                // ê²¸ì—…ì‚¬ì—… ì—†ìŒ ì„ íƒ ì‹œ ì¡°ê±´ë¶€ í•„ë“œë§Œ ë¹„í™œì„±í™”
                conditionalFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.disabled = true;
                    field.style.background = '#f0f0f0';
                    field.style.cursor = 'not-allowed';
                    field.value = '0';
                });
                
                // ìë™ê³„ì‚° í•„ë“œ ì´ˆê¸°í™”
                document.getElementById('sideRatio').value = '-';
                document.getElementById('sideRatioHint').textContent = '';
            } else {
                document.getElementById('sideBusinessDetail').classList.remove('hidden');
                document.getElementById('sideRatioSection').classList.remove('hidden'); // ê²¸ì—…ë¹„ìœ¨ ì‚°ì • ì„¹ì…˜ ë³´ì´ê¸°
                
                // ê²¸ì—…ì‚¬ì—… ìˆìŒ ì„ íƒ ì‹œ ëª¨ë“  í•„ë“œ í™œì„±í™”
                conditionalFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.disabled = false;
                    field.style.background = '#fff';
                    field.style.cursor = 'text';
                });
            }
            updateRequiredCapitalDisplay();
        }

        function toggleSideBusinessType(type) {
            const idx = sideBusinessTypes.indexOf(type);
            const btnId = type === 'noCapital' ? 'noCapitalBtn' : 'hasCapitalBtn';
            const btn = document.getElementById(btnId);
            if (idx > -1) {
                sideBusinessTypes.splice(idx, 1);
                btn.classList.remove('active');
                if (type === 'hasCapital') {
                    document.getElementById('sideBusinessList').classList.add('hidden');
                    document.getElementById('subCategorySection').classList.add('hidden');
                    sideBusinesses = [];
                    document.getElementById('selectedSideBusinesses').innerHTML = '';
                }
            } else {
                sideBusinessTypes.push(type);
                btn.classList.add('active');
                if (type === 'hasCapital') {
                    // ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ìƒì„±
                    const container = document.getElementById('sideCategoryButtons');
                    container.innerHTML = '';
                    Object.keys(sideBusinessCategories).forEach(category => {
                        const categoryBtn = document.createElement('button');
                        categoryBtn.className = 'btn';
                        categoryBtn.textContent = category;
                        categoryBtn.onclick = function() {
                            showSubCategoriesButton(category, categoryBtn);
                        };
                        container.appendChild(categoryBtn);
                    });
                    document.getElementById('sideBusinessList').classList.remove('hidden');
                }
            }
            updateRequiredCapitalDisplay();
        }

        function showSubCategoriesButton(category, categoryBtn) {
            // ì´ì „ì— ì„ íƒëœ ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.querySelectorAll('#sideCategoryButtons .btn').forEach(b => b.classList.remove('active'));
            categoryBtn.classList.add('active');
            
            const categoryData = sideBusinessCategories[category];
            const subSection = document.getElementById('subCategorySection');
            const container = document.getElementById('sideBusinessButtons');
            
            if (typeof categoryData === 'object' && !categoryData.corporation) {
                // ì„¸ë¶€ ì—…ì¢…ì´ ìˆëŠ” ê²½ìš°
                container.innerHTML = '';
                Object.keys(categoryData).forEach(sub => {
                    const subBtn = document.createElement('button');
                    subBtn.className = 'btn';
                    subBtn.textContent = sub;
                    subBtn.onclick = function() {
                        addSideBusinessButton(category + '>' + sub, subBtn);
                    };
                    container.appendChild(subBtn);
                });
                subSection.classList.remove('hidden');
            } else {
                // ì„¸ë¶€ ì—…ì¢…ì´ ì—†ëŠ” ê²½ìš° (ë°”ë¡œ ì„ íƒ)
                subSection.classList.add('hidden');
                addSideBusinessButton(category, categoryBtn);
            }
        }

        function addSideBusinessButton(businessKey, btn) {
            // ì´ë¯¸ ì„ íƒëœ ê²½ìš° ì œê±°
            const existing = sideBusinesses.find(b => b.key === businessKey);
            if (existing) {
                sideBusinesses = sideBusinesses.filter(b => b.key !== businessKey);
                btn.classList.remove('active');
                updateSelectedSideBusinesses();
                return;
            }
            
            // ìƒˆë¡œ ì¶”ê°€ - ê°ì²´ í˜•íƒœë¡œ ì €ì¥
            btn.classList.add('active');
            
            // businessKeyê°€ "ì¹´í…Œê³ ë¦¬>ì„¸ë¶€ì—…ì¢…" í˜•ì‹ì¸ì§€ í™•ì¸
            const parts = businessKey.split('>');
            let businessObj;
            
            if (parts.length === 2) {
                // ì„¸ë¶€ì—…ì¢…ì´ ìˆëŠ” ê²½ìš°
                businessObj = {
                    key: businessKey,
                    category: parts[0],
                    subCategory: parts[1],
                    name: businessKey.replace('>', ' > ')
                };
            } else {
                // ì„¸ë¶€ì—…ì¢…ì´ ì—†ëŠ” ê²½ìš°
                businessObj = {
                    key: businessKey,
                    category: businessKey,
                    subCategory: null,
                    name: businessKey
                };
            }
            
            sideBusinesses.push(businessObj);
            updateSelectedSideBusinesses();
        }

        function updateSelectedSideBusinesses() {
            const cont = document.getElementById('selectedSideBusinesses');
            if (sideBusinesses.length === 0) {
                cont.innerHTML = '';
                return;
            }
            let html = '<div style="margin-top:15px; padding:10px; background:#f0f4ff; border-radius:8px;"><div style="font-size:12px; color:#667eea; font-weight:600; margin-bottom:8px;">ì„ íƒëœ ê²¸ì—…ì‚¬ì—…:</div>';
            sideBusinesses.forEach((b, index) => {
                html += `<div style="display:inline-block; margin:4px; padding:6px 12px; background:white; border:2px solid #667eea; border-radius:6px; font-size:13px;">
                    ${b.name}
                    <span onclick="removeSideBusinessByIndex(${index})" style="margin-left:8px; cursor:pointer; color:#ef4444; font-weight:bold;">âœ•</span>
                </div>`;
            });
            html += '</div>';
            cont.innerHTML = html;
            updateRequiredCapitalDisplay();
        }

        function removeSideBusinessByIndex(index) {
            const removedBusiness = sideBusinesses[index];
            sideBusinesses.splice(index, 1);
            
            // í•´ë‹¹ ë²„íŠ¼ ë¹„í™œì„±í™”
            const buttons = document.querySelectorAll('#sideCategoryButtons .btn, #sideBusinessButtons .btn');
            buttons.forEach(btn => {
                if (btn.classList.contains('active')) {
                    // ë²„íŠ¼ì˜ í…ìŠ¤íŠ¸ì™€ ì œê±°ëœ í•­ëª© ë¹„êµ
                    const btnText = btn.textContent.trim();
                    if (removedBusiness.subCategory) {
                        if (btnText === removedBusiness.subCategory) {
                            btn.classList.remove('active');
                        }
                    } else {
                        if (btnText === removedBusiness.category) {
                            btn.classList.remove('active');
                        }
                    }
                }
            });
            
            updateSelectedSideBusinesses();
        }

        function showSubCategories() {
            const categorySelect = document.getElementById('sideCategorySelect');
            const category = categorySelect.value;
            const subSelect = document.getElementById('sideBusinessSelect');
            const subSection = document.getElementById('subCategorySection');
            if (!category) {
                subSection.classList.add('hidden');
                return;
            }
            const categoryData = sideBusinessCategories[category];
            if (typeof categoryData === 'object' && !categoryData.corporation) {
                subSelect.innerHTML = '<option value="">ì„¸ë¶€ì—…ì¢…ì„ ì„ íƒí•˜ì„¸ìš”</option>';
                Object.keys(categoryData).forEach(sub => {
                    const option = document.createElement('option');
                    option.value = category + '>' + sub;
                    option.textContent = sub;
                    subSelect.appendChild(option);
                });
                subSection.classList.remove('hidden');
            } else {
                subSection.classList.add('hidden');
                addSingleSideBusiness(category);
            }
        }

        function addSingleSideBusiness(businessName) {
            if (sideBusinesses.find(b => b.name === businessName)) {
                alert('ì´ë¯¸ ì„ íƒëœ ì‚¬ì—…ì…ë‹ˆë‹¤.');
                return;
            }
            sideBusinesses.push({
                name: businessName,
                category: businessName,
                subCategory: null
            });
            updateSideBusinessDisplay();
            updateRequiredCapitalDisplay();
            document.getElementById('sideCategorySelect').value = '';
        }

        function addSideBusiness() {
            const select = document.getElementById('sideBusinessSelect');
            const value = select.value;
            if (!value) return;
            const [category, subCategory] = value.split('>');
            const businessName = subCategory ? `${category} - ${subCategory}` : category;
            if (sideBusinesses.find(b => b.name === businessName)) {
                alert('ì´ë¯¸ ì„ íƒëœ ì‚¬ì—…ì…ë‹ˆë‹¤.');
                select.value = '';
                return;
            }
            sideBusinesses.push({
                name: businessName,
                category: category,
                subCategory: subCategory || null
            });
            updateSideBusinessDisplay();
            updateRequiredCapitalDisplay();
            select.value = '';
        }

        function updateSideBusinessDisplay() {
            const container = document.getElementById('selectedSideBusinesses');
            if (sideBusinesses.length === 0) {
                container.innerHTML = '';
                return;
            }
            let html = '<div class="license-list"><div class="license-list-title">ì„ íƒëœ ê²¸ì—…ì‚¬ì—…:</div>';
            sideBusinesses.forEach((b, i) => {
                html += `<span class="license-tag">${b.name}<span class="license-tag-remove" onclick="removeSideBusiness(${i})">âœ•</span></span>`;
            });
            html += '</div>';
            container.innerHTML = html;
        }

        function removeSideBusiness(index) {
            sideBusinesses.splice(index, 1);
            updateSideBusinessDisplay();
            updateRequiredCapitalDisplay();
        }

        function updateRequiredCapitalDisplay() {
            if (hasSideBusiness === null || !entity) {
                document.getElementById('requiredCapital').classList.remove('show');
                return;
            }
            
            // ë‚˜ë¬´ë³‘ì› ë³´ìœ  ì—¬ë¶€ í™•ì¸
            const hasTreeHospital = sideBusinesses.some(b => b.category === 'ë‚˜ë¬´ë³‘ì›');
            
            // ì¡°ê²½ ê´€ë ¨ ë©´í—ˆ ë³´ìœ  ì—¬ë¶€ í™•ì¸
            const hasLandscapeLicense = licenses.some(l => 
                l.name === 'ì¡°ê²½ê³µì‚¬ì—…' || l.name === 'ì¡°ê²½ì‹ì¬Â·ì‹œì„¤ë¬¼ê³µì‚¬ì—…'
            );
            
            // ë‚˜ë¬´ë³‘ì›ê³¼ ì¡°ê²½ì—… ëª¨ë‘ ìˆëŠ” ê²½ìš° ìƒí˜¸ì¸ì • ì²˜ë¦¬
            const treeHospitalRecognized = hasTreeHospital && hasLandscapeLicense;
            
            // ê±´ì„¤ì—… ìë³¸ê¸ˆì€ ê·¸ëŒ€ë¡œ ê³„ì‚° (ì¡°ê²½ê³µì‚¬ì—… í¬í•¨)
            adjustedReqCap = reqCap;
            
            if (hasSideBusiness === 'none' || (sideBusinessTypes.length === 0 && sideBusinesses.length === 0)) {
                sideBusReqCap = 0;
                document.getElementById('sideCapitalAmount').textContent = '0ì›';
                document.getElementById('sideBusinessInfo').textContent = 'ê²¸ì—…ì‚¬ì—… ì—†ìŒ';
            } else {
                let total = 0;
                let infoText = [];
                if (sideBusinessTypes.includes('noCapital')) {
                    infoText.push('ì œì¡°ì—…Â·ë„ì†Œë§¤ì—… ë“±');
                }
                
                // ì‚°ë¦¼ì‚¬ì—…ë²•ì¸ ë° ë‚˜ë¬´ë³‘ì› ì²˜ë¦¬
                const forestBusinesses = sideBusinesses.filter(b => b.category === 'ì‚°ë¦¼ì‚¬ì—…ë²•ì¸');
                const treeHospital = sideBusinesses.filter(b => b.category === 'ë‚˜ë¬´ë³‘ì›');
                const otherBusinesses = sideBusinesses.filter(b => 
                    b.category !== 'ì‚°ë¦¼ì‚¬ì—…ë²•ì¸' && b.category !== 'ë‚˜ë¬´ë³‘ì›'
                );
                
                // ì‚°ë¦¼ì‚¬ì—…ë²•ì¸ ë˜ëŠ” ë‚˜ë¬´ë³‘ì›ì´ ìˆëŠ” ê²½ìš° íŠ¹ë³„ ê³„ì‚°
                if (forestBusinesses.length > 0 || treeHospital.length > 0) {
                    let forestCapitals = [];
                    let hospitalCapital = 0;
                    
                    // ë‚˜ë¬´ë³‘ì› ìë³¸ê¸ˆ í™•ì¸
                    if (treeHospital.length > 0) {
                        const hospitalData = sideBusinessCategories['ë‚˜ë¬´ë³‘ì›'];
                        hospitalCapital = hospitalData?.[entity] || 0;
                    }
                    
                    // ì‚°ë¦¼ì‚¬ì—…ë²•ì¸ ìë³¸ê¸ˆ ëª©ë¡
                    forestBusinesses.forEach(b => {
                        const categoryData = sideBusinessCategories[b.category];
                        let cap = 0;
                        if (b.subCategory) {
                            cap = categoryData[b.subCategory]?.[entity] || 0;
                        } else {
                            cap = categoryData?.[entity] || 0;
                        }
                        if (cap) {
                            forestCapitals.push({name: b.name, amount: cap});
                        }
                    });
                    
                    // ê¸ˆì•¡ ìˆœìœ¼ë¡œ ì •ë ¬ (ë‚´ë¦¼ì°¨ìˆœ)
                    forestCapitals.sort((a, b) => b.amount - a.amount);
                    
                    // ê²½ìš°ì˜ ìˆ˜ë³„ ê³„ì‚°
                    if (treeHospital.length > 0 && forestBusinesses.length === 0) {
                        // ë‚˜ë¬´ë³‘ì›ë§Œ ìˆëŠ” ê²½ìš°
                        if (treeHospitalRecognized) {
                            // ì¡°ê²½ì—… ë³´ìœ : ìƒí˜¸ì¸ì •ìœ¼ë¡œ ë‚˜ë¬´ë³‘ì› ìë³¸ê¸ˆ ë¶ˆí•„ìš”
                            infoText.push('ë‚˜ë¬´ë³‘ì› (ì¡°ê²½ì—…ê³¼ ìƒí˜¸ì¸ì •)');
                        } else {
                            // ì¡°ê²½ì—… ì—†ìŒ: 100%
                            total += hospitalCapital;
                            infoText.push('ë‚˜ë¬´ë³‘ì›');
                        }
                        
                    } else if (treeHospital.length === 0 && forestBusinesses.length > 0) {
                        // ì‚°ë¦¼ì‚¬ì—…ë²•ì¸ë§Œ ìˆëŠ” ê²½ìš°
                        // ê°€ì¥ í° ê²ƒ 100%, ë‚˜ë¨¸ì§€ 50%
                        total += forestCapitals[0].amount;
                        infoText.push(forestCapitals[0].name);
                        for (let i = 1; i < forestCapitals.length; i++) {
                            total += forestCapitals[i].amount * 0.5;
                            infoText.push(forestCapitals[i].name + ' (50%)');
                        }
                        
                    } else if (treeHospital.length > 0 && forestBusinesses.length === 1) {
                        // ë‚˜ë¬´ë³‘ì› + ì‚°ë¦¼ì‚¬ì—… 1ê°œ
                        total += forestCapitals[0].amount;
                        infoText.push(forestCapitals[0].name);
                        
                        if (treeHospitalRecognized) {
                            // ì¡°ê²½ì—… ë³´ìœ : ë‚˜ë¬´ë³‘ì› ìƒí˜¸ì¸ì •
                            infoText.push('ë‚˜ë¬´ë³‘ì› (ì¡°ê²½ì—…ê³¼ ìƒí˜¸ì¸ì •)');
                        } else {
                            // ì¡°ê²½ì—… ì—†ìŒ: ë‚˜ë¬´ë³‘ì› 50%
                            total += hospitalCapital * 0.5;
                            infoText.push('ë‚˜ë¬´ë³‘ì› (50%)');
                        }
                        
                    } else if (treeHospital.length > 0 && forestBusinesses.length >= 2) {
                        // ë‚˜ë¬´ë³‘ì› + ì‚°ë¦¼ì‚¬ì—… 2ê°œ ì´ìƒ
                        total += forestCapitals[0].amount;
                        infoText.push(forestCapitals[0].name);
                        
                        for (let i = 1; i < forestCapitals.length; i++) {
                            total += forestCapitals[i].amount * 0.5;
                            infoText.push(forestCapitals[i].name + ' (50%)');
                        }
                        
                        if (treeHospitalRecognized) {
                            // ì¡°ê²½ì—… ë³´ìœ : ë‚˜ë¬´ë³‘ì› ìƒí˜¸ì¸ì •
                            infoText.push('ë‚˜ë¬´ë³‘ì› (ì¡°ê²½ì—…ê³¼ ìƒí˜¸ì¸ì •)');
                        } else {
                            // ì¡°ê²½ì—… ì—†ìŒ: ë‚˜ë¬´ë³‘ì› 50%
                            total += hospitalCapital * 0.5;
                            infoText.push('ë‚˜ë¬´ë³‘ì› (50%)');
                        }
                    }
                }
                
                // ë‹¤ë¥¸ ê²¸ì—…ì‚¬ì—…ì€ 100% ë°˜ì˜
                otherBusinesses.forEach(b => {
                    const categoryData = sideBusinessCategories[b.category];
                    let cap = 0;
                    if (b.subCategory) {
                        cap = categoryData[b.subCategory]?.[entity] || 0;
                    } else {
                        cap = categoryData?.[entity] || 0;
                    }
                    if (cap) {
                        total += cap;
                        infoText.push(b.name);
                    }
                });
                
                sideBusReqCap = total;
                document.getElementById('sideCapitalAmount').textContent = total > 0 ? fmt(total) : '0ì›';
                document.getElementById('sideBusinessInfo').textContent = infoText.join(', ');
            }
            const totalCapital = adjustedReqCap + sideBusReqCap;
            document.getElementById('totalCapitalAmount').textContent = fmt(totalCapital);
            document.getElementById('requiredCapital').classList.add('show');
            document.getElementById('step5').classList.remove('hidden');
        }

        function showFinanceInput() {
            document.getElementById('mainSubtitle')?.classList.add('hidden');
            document.getElementById('legalNotice')?.classList.add('hidden');
            const step1 = document.querySelector('.step:nth-child(4)');
            if (step1) step1.classList.add('hidden');
            document.getElementById('step2')?.classList.add('hidden');
            document.getElementById('step3')?.classList.add('hidden');
            document.getElementById('step4')?.classList.add('hidden');
            document.getElementById('sideBusinessDetail')?.classList.add('hidden');
            document.getElementById('sideBusinessList')?.classList.add('hidden');
            document.getElementById('requiredCapital')?.classList.add('hidden');
            document.getElementById('step5')?.classList.add('hidden');
            const financeSection = document.getElementById('financeSection');
            financeSection.style.opacity = '0';
            financeSection.classList.add('show');
            setTimeout(() => {
                financeSection.style.transition = 'opacity 0.5s ease-in';
                financeSection.style.opacity = '1';
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 50);
        }

        function showAllSteps() {
            document.getElementById('mainSubtitle')?.classList.remove('hidden');
            document.getElementById('legalNotice')?.classList.remove('hidden');
            const step1 = document.querySelector('.step:nth-child(4)');
            if (step1) step1.classList.remove('hidden');
            document.getElementById('step2')?.classList.remove('hidden');
            document.getElementById('step3')?.classList.remove('hidden');
            document.getElementById('step4')?.classList.remove('hidden');
            if (hasSideBusiness === 'has') {
                document.getElementById('sideBusinessDetail')?.classList.remove('hidden');
                if (sideBusinessTypes.includes('hasCapital')) {
                    document.getElementById('sideBusinessList')?.classList.remove('hidden');
                }
            }
            document.getElementById('requiredCapital')?.classList.remove('hidden');
            document.getElementById('step5')?.classList.remove('hidden');
            document.getElementById('financeSection')?.classList.remove('show');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function calculateCapital() {
            const targetAsset = parse(document.getElementById('targetAsset').value);
            const targetDebt = parse(document.getElementById('targetDebt').value);
            let actualCapital = targetAsset - targetDebt; // ì´ë¯¸ ê²¸ì—…ìì‚°/ë¶€ì±„ê°€ ì°¨ê°ëœ ì§„ë‹¨ëŒ€ìƒì‚¬ì—… ì‹¤ì§ˆìë³¸
            
            // ì œ28ì¡° 2í•­ ì ìš©: ê²¸ì—…ìë³¸ì´ ê¸°ì¤€ìë³¸ì•¡ ë¯¸ë‹¬ ì‹œ ì¶”ê°€ ì°¨ê°
            const sa = parse(document.getElementById('sideAsset').value);
            const sd = parse(document.getElementById('sideDebt').value);
            const calculatedSideCap = sa - sd; // ì‹¤ì œ ê³„ì‚°ëœ ê²¸ì—…ìë³¸
            
            // ê²¸ì—…ìë³¸ì´ ê¸°ì¤€ìë³¸ì•¡ë³´ë‹¤ ë‚®ìœ¼ë©´, ë¶€ì¡±ë¶„ì„ ì¶”ê°€ë¡œ ì°¨ê°
            if (sideBusReqCap > 0 && calculatedSideCap < sideBusReqCap) {
                const shortage = sideBusReqCap - calculatedSideCap;
                actualCapital = actualCapital - shortage;
            }
            
            showFinalResult(actualCapital);
        }

        function showFinalResult(actualCapital) {
            // ë¹„êµ ê¸°ì¤€ì€ ê±´ì„¤ì—… ê¸°ì¤€ìë³¸
            const totalReq = adjustedReqCap;
            const isSufficient = actualCapital >= totalReq;
            const percentage = totalReq > 0 ? Math.min((actualCapital / totalReq) * 100, 100) : 0;
            
            document.getElementById('calculatedCapital').textContent = fmt(actualCapital);
            document.getElementById('requiredAmount').textContent = fmt(totalReq); // ê±´ì„¤ì—… ê¸°ì¤€ìë³¸ë§Œ
            document.getElementById('actualAmount').textContent = fmt(actualCapital);
            const statusBadge = document.getElementById('statusBadge');
            if (isSufficient) {
                statusBadge.textContent = 'âœ… ì¶©ì¡±';
                statusBadge.className = 'status-badge success';
            } else {
                statusBadge.textContent = 'âŒ ë¶ˆì¶©ì¡±';
                statusBadge.className = 'status-badge fail';
            }
            const progressBar = document.getElementById('progress');
            setTimeout(() => {
                progressBar.style.width = percentage + '%';
                progressBar.textContent = percentage.toFixed(1) + '%';
            }, 100);
            const shortageAlert = document.getElementById('shortageAlert');
            if (!isSufficient) {
                const shortage = totalReq - actualCapital;
                document.getElementById('shortageText').textContent = `âš ï¸ ${fmt(shortage)} ë¶€ì¡±í•©ë‹ˆë‹¤`;
                shortageAlert.style.display = 'block';
                shortageAlert.style.background = '#fff3cd';
                shortageAlert.style.borderLeftColor = '#ffc107';
                document.getElementById('shortageText').style.color = '#856404';
            } else {
                const surplus = actualCapital - totalReq;
                document.getElementById('shortageText').textContent = `âœ¨ ${fmt(surplus)} ì´ˆê³¼ ë³´ìœ  ì¤‘ì…ë‹ˆë‹¤`;
                shortageAlert.style.display = 'block';
                shortageAlert.style.background = '#d4edda';
                shortageAlert.style.borderLeftColor = '#28a745';
                document.getElementById('shortageText').style.color = '#155724';
            }
            document.getElementById('finalResult').classList.add('show');
        }

        function reset() {
            types = [];
            licenses = [];
            entity = null;
            reqCap = 0;
            adjustedReqCap = 0;
            hasSideBusiness = null;
            sideBusinessTypes = [];
            sideBusinesses = [];
            sideBusReqCap = 0;
            document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
            
            // ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ì´ˆê¸°í™”
            document.getElementById('comprehensiveButtons').innerHTML = '';
            document.getElementById('specializedButtons').innerHTML = '';
            document.getElementById('sideCategoryButtons').innerHTML = '';
            document.getElementById('sideBusinessButtons').innerHTML = '';
            
            document.getElementById('selectedLicenses').innerHTML = '';
            document.getElementById('selectedSideBusinesses').innerHTML = '';
            document.getElementById('companyAsset').value = '';
            document.getElementById('badAsset').value = '';
            for (let i = 1; i <= 8; i++) document.getElementById('badAsset' + i).value = '';
            document.getElementById('assetAdj').value = '';
            document.getElementById('companyDebt').value = '';
            document.getElementById('debtAdj').value = '';
            document.getElementById('offDebt').value = '';
            
            // ê²¸ì—…ë¹„ìœ¨ ê´€ë ¨ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('totalRevenue').value = '';
            document.getElementById('sideRevenue').value = '';
            document.getElementById('sideRatio').value = '-';
            document.getElementById('sideRatioHint').textContent = '';
            
            // ê²¸ì—…ìì‚° ê´€ë ¨ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('sideAsset1').value = '0';
            document.getElementById('sideAsset2').value = '0';
            document.getElementById('sideAsset3').value = '0';
            document.getElementById('sideAsset').value = '0';
            
            // ê²¸ì—…ë¶€ì±„ ê´€ë ¨ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('sideDebt1').value = '0';
            document.getElementById('sideDebt2').value = '0';
            document.getElementById('sideDebt3').value = '0';
            document.getElementById('sideDebt').value = '0';
            
            document.getElementById('sideCap').value = '';
            document.getElementById('targetAsset').value = '';
            document.getElementById('targetDebt').value = '';
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('comprehensiveSection').classList.add('hidden');
            document.getElementById('specializedSection').classList.add('hidden');
            document.getElementById('step3').classList.add('hidden');
            document.getElementById('step4').classList.add('hidden');
            document.getElementById('sideBusinessDetail').classList.add('hidden');
            document.getElementById('sideBusinessList').classList.add('hidden');
            document.getElementById('subCategorySection').classList.add('hidden');
            document.getElementById('sideRatioSection').classList.add('hidden');
            document.getElementById('step5').classList.add('hidden');
            document.getElementById('requiredCapital').classList.remove('show');
            document.getElementById('financeSection').classList.remove('show');
            document.getElementById('finalResult').classList.remove('show');
            document.getElementById('progress').style.width = '0%';
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('noCapitalBtn')?.addEventListener('click', function() {
                toggleSideBusinessType('noCapital');
            });
            document.getElementById('hasCapitalBtn')?.addEventListener('click', function() {
                toggleSideBusinessType('hasCapital');
            });
        });

        // ==========================================
        // ê°„í¸ ê³„ì‚°ê¸° ê¸°ëŠ¥
        // ==========================================
        
        let currentCalcFieldId = '';
        
        function openCalc(fieldId) {
            currentCalcFieldId = fieldId;
            const modal = document.getElementById('calcModal');
            const inputsContainer = document.getElementById('calcInputs');
            
            // ê¸°ì¡´ ê°’ì´ ìˆìœ¼ë©´ í‘œì‹œ
            const currentValue = parse(document.getElementById(fieldId).value);
            
            inputsContainer.innerHTML = '';
            if (currentValue > 0) {
                addCalcRow(currentValue);
            } else {
                addCalcRow();
                addCalcRow();
                addCalcRow();
            }
            
            modal.style.display = 'block';
            updateCalcTotal();
            
            // ì²« ë²ˆì§¸ ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤
            setTimeout(() => {
                const firstInput = inputsContainer.querySelector('.calc-input');
                if (firstInput) firstInput.focus();
            }, 100);
        }
        
        function closeCalc() {
            document.getElementById('calcModal').style.display = 'none';
            currentCalcFieldId = '';
        }
        
        function addCalcRow(value = '') {
            const inputsContainer = document.getElementById('calcInputs');
            const rowDiv = document.createElement('div');
            rowDiv.className = 'calc-input-row';
            
            const input = document.createElement('input');
            input.type = 'text';
            input.inputMode = 'numeric';
            input.pattern = '[0-9,]*';
            input.className = 'calc-input';
            input.placeholder = 'ê¸ˆì•¡ ì…ë ¥';
            input.value = value ? fmt(value).replace('ì›', '').replace('ì–µ', '00000000').replace('ë§Œ', '0000').replace(/,/g, '') : '';
            input.oninput = function() {
                formatNumber(this);
                updateCalcTotal();
            };
            
            const removeBtn = document.createElement('button');
            removeBtn.type = 'button';
            removeBtn.className = 'calc-remove-btn';
            removeBtn.textContent = 'Ã—';
            removeBtn.onclick = function() {
                rowDiv.remove();
                updateCalcTotal();
            };
            
            rowDiv.appendChild(input);
            rowDiv.appendChild(removeBtn);
            inputsContainer.appendChild(rowDiv);
            
            updateCalcTotal();
        }
        
        function updateCalcTotal() {
            const inputs = document.querySelectorAll('#calcInputs .calc-input');
            let total = 0;
            inputs.forEach(input => {
                total += parse(input.value);
            });
            document.getElementById('calcTotalValue').textContent = fmt(total);
        }
        
        function applyCalc() {
            const inputs = document.querySelectorAll('#calcInputs .calc-input');
            let total = 0;
            inputs.forEach(input => {
                total += parse(input.value);
            });
            
            const targetField = document.getElementById(currentCalcFieldId);
            // ìˆ«ìë¥¼ ì‰¼í‘œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜ (formatNumberê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í˜•ì‹)
            targetField.value = total.toLocaleString('ko-KR');
            
            // ë³€ê²½ ì´ë²¤íŠ¸ íŠ¸ë¦¬ê±°
            formatNumber(targetField);
            calc();
            
            closeCalc();
        }
        
        // íŒì—… ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('calcModal');
            if (event.target === modal) {
                closeCalc();
            }
        };
        
        // ==========================================
        // ë¶™ì—¬ë„£ê¸° ìë™ í•©ì‚° ê¸°ëŠ¥
        // ==========================================
        
        // ëª¨ë“  ì…ë ¥ í•„ë“œì— ë¶™ì—¬ë„£ê¸° ì´ë²¤íŠ¸ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            const fieldsWithCalc = [
                'badAsset1', 'badAsset2', 'badAsset3', 'badAsset4', 'badAsset5', 'badAsset6', 'badAsset7', 'badAsset8',
                'assetAdj', 'debtAdj', 'offDebt',
                'sideAsset1', 'sideAsset2', 'sideAsset3',
                'sideDebt1', 'sideDebt2', 'sideDebt3'
            ];
            
            fieldsWithCalc.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.addEventListener('paste', function(e) {
                        e.preventDefault();
                        const pastedText = (e.clipboardData || window.clipboardData).getData('text');
                        
                        // ì—¬ëŸ¬ ì¤„ë¡œ ë‚˜ë‰œ ìˆ«ìë“¤ ì°¾ê¸°
                        const lines = pastedText.split(/[\n\r]+/);
                        const numbers = [];
                        
                        lines.forEach(line => {
                            // ìˆ«ìë§Œ ì¶”ì¶œ (ì‰¼í‘œ, ê³µë°± ì œê±°)
                            const cleaned = line.replace(/[^0-9]/g, '');
                            if (cleaned && cleaned !== '0') {
                                numbers.push(parseInt(cleaned));
                            }
                        });
                        
                        if (numbers.length > 1) {
                            // ì—¬ëŸ¬ ê°œì˜ ìˆ«ìê°€ ìˆìœ¼ë©´ í•©ì‚°
                            const total = numbers.reduce((a, b) => a + b, 0);
                            this.value = total.toLocaleString('ko-KR');
                            formatNumber(this);
                            calc();
                        } else if (numbers.length === 1) {
                            // í•˜ë‚˜ì˜ ìˆ«ìë§Œ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì…ë ¥
                            this.value = numbers[0].toLocaleString('ko-KR');
                            formatNumber(this);
                            calc();
                        } else {
                            // ìˆ«ìê°€ ì—†ìœ¼ë©´ ì›ë³¸ í…ìŠ¤íŠ¸ ì…ë ¥
                            this.value = pastedText;
                            formatNumber(this);
                            calc();
                        }
                    });
                }
            });
        });

        // ==========================================
        // ê¸°ë³¸ ë³´í˜¸ ê¸°ëŠ¥
        // ==========================================
        
        // ìš°í´ë¦­ ë°©ì§€
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // F12 ê°œë°œì ë„êµ¬ ë°©ì§€
        document.addEventListener('keydown', function(e) {
            // F12
            if (e.key === 'F12') {
                e.preventDefault();
                alert('âš ï¸ ê°œë°œì ë„êµ¬ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në³¸ ê³„ì‚°ê¸°ëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.\në¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n\në¬¸ì˜: 02-991-0331');
                return false;
            }
            // Ctrl+Shift+I (ê°œë°œì ë„êµ¬)
            if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                e.preventDefault();
                alert('âš ï¸ ê°œë°œì ë„êµ¬ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në³¸ ê³„ì‚°ê¸°ëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.\në¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n\në¬¸ì˜: 02-991-0331');
                return false;
            }
            // Ctrl+Shift+C (ìš”ì†Œ ì„ íƒ)
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                alert('âš ï¸ ê°œë°œì ë„êµ¬ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në³¸ ê³„ì‚°ê¸°ëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.\në¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n\në¬¸ì˜: 02-991-0331');
                return false;
            }
            // Ctrl+Shift+J (ì½˜ì†”)
            if (e.ctrlKey && e.shiftKey && e.key === 'J') {
                e.preventDefault();
                alert('âš ï¸ ê°œë°œì ë„êµ¬ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në³¸ ê³„ì‚°ê¸°ëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.\në¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n\në¬¸ì˜: 02-991-0331');
                return false;
            }
            // Ctrl+U (ì†ŒìŠ¤ ë³´ê¸°)
            if (e.ctrlKey && e.key === 'u') {
                e.preventDefault();
                alert('âš ï¸ ì†ŒìŠ¤ ì½”ë“œ ë³´ê¸°ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në³¸ ê³„ì‚°ê¸°ëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.\në¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n\në¬¸ì˜: 02-991-0331');
                return false;
            }
            // Ctrl+S (ì €ì¥)
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                alert('âš ï¸ í˜ì´ì§€ ì €ì¥ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në³¸ ê³„ì‚°ê¸°ëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.\në¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n\në¬¸ì˜: 02-991-0331');
                return false;
            }
        });

        // í…ìŠ¤íŠ¸ ë“œë˜ê·¸ ì„ íƒ ë°©ì§€
        document.addEventListener('selectstart', function(e) {
            // ì…ë ¥ í•„ë“œëŠ” ì„ íƒ ê°€ëŠ¥í•˜ë„ë¡ ì˜ˆì™¸ ì²˜ë¦¬
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return true;
            }
            e.preventDefault();
            return false;
        });

        // ë³µì‚¬ ë°©ì§€
        document.addEventListener('copy', function(e) {
            // ì…ë ¥ í•„ë“œëŠ” ë³µì‚¬ ê°€ëŠ¥í•˜ë„ë¡ ì˜ˆì™¸ ì²˜ë¦¬
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return true;
            }
            e.preventDefault();
            alert('âš ï¸ ì´ í˜ì´ì§€ì˜ ë‚´ìš©ì€ ë³µì‚¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në³¸ ê³„ì‚°ê¸°ëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.\në¬´ë‹¨ ë³µì œ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.\n\në¬¸ì˜: 02-991-0331');
            return false;
        });

        // ì½˜ì†” ê²½ê³  ë©”ì‹œì§€
        console.log('%câš ï¸ ê²½ê³ ', 'color: red; font-size: 40px; font-weight: bold;');
        console.log('%cë³¸ ê³„ì‚°ê¸°ì˜ ì†ŒìŠ¤ ì½”ë“œëŠ” ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.', 'font-size: 16px;');
        console.log('%cë¬´ë‹¨ ë³µì œ, ìˆ˜ì •, ë°°í¬ë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.', 'font-size: 16px; font-weight: bold;');
        console.log('%cìœ„ë°˜ ì‹œ ë²•ì  ì¡°ì¹˜ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'font-size: 16px; color: red;');
        console.log('%cë¬¸ì˜: 02-991-0331 | kyrtax@naver.com', 'font-size: 14px;');
        
    </script>
    
    
    <!-- ê°„í¸ ê³„ì‚°ê¸° íŒì—… -->
    <div id="calcModal" class="calc-modal">
        <div class="calc-modal-content">
            <div class="calc-modal-header">
                ğŸ’° ê°„í¸ ê³„ì‚°ê¸°
            </div>
            <div id="calcInputs">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
            <button type="button" class="calc-add-btn" onclick="addCalcRow()">â• í•­ëª© ì¶”ê°€</button>
            <div class="calc-total">
                <div class="calc-total-label">í•©ê³„</div>
                <div class="calc-total-value" id="calcTotalValue">0ì›</div>
            </div>
            <div class="calc-modal-buttons">
                <button type="button" class="calc-modal-btn calc-apply-btn" onclick="applyCalc()">ì ìš©í•˜ê¸°</button>
                <button type="button" class="calc-modal-btn calc-cancel-btn" onclick="closeCalc()">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>
    
    <!-- í”Œë¡œíŒ… ë²„íŠ¼ (ì¹´ì¹´ì˜¤í†¡ & ì „í™”) -->
    <div class="floating-buttons">
        <!-- ì¹´ì¹´ì˜¤í†¡ ìƒë‹´ ë²„íŠ¼ -->
        <a href="http://pf.kakao.com/_nFxlYG" class="floating-btn kakao-btn" target="_blank" title="ì¹´ì¹´ì˜¤í†¡ ìƒë‹´">
            <img src="kakao_icon.png" alt="ì¹´ì¹´ì˜¤í†¡ ìƒë‹´í•˜ê¸°">
        </a>
        <!-- ì „í™” ë°”ë¡œ ê±¸ê¸° ë²„íŠ¼ -->
        <a href="tel:02-991-0331" class="floating-btn phone-btn" title="ì „í™” ìƒë‹´">
            <img src="phone_icon.png" alt="ì „í™” ìƒë‹´í•˜ê¸°">
        </a>
    </div>
    
    <!-- 
    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    ğŸ” COPYRIGHT WATERMARK - INVISIBLE BUT TRACEABLE
    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    -->
    <div style="display:none;" data-copyright="ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ" data-fingerprint="1b2c11aac6503c9cc7da0ed4506262cd" data-version="KYR-CONST-CAP-CALC-v2.5.1" data-timestamp="20251211050021">
        Original Source: ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°
        Contact: 02-991-0331 | kyrtax@naver.com | www.kyrtax.co.kr
        Digital Fingerprint: 1b2c11aac6503c9cc7da0ed4506262cd
        This software is protected by copyright law.
        Unauthorized use, modification, or distribution is prohibited.
    </div>
    
    <script>
    // Copyright verification token (do not remove)
    (function(){
        var _t='1b2c11aac6503c9cc7da0ed4506262cd';
        var _s='ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ';
        var _d='20251211050021';
        // Digital signature embedded for legal verification
        console.log('%cğŸ” Copyright Protected', 'color:#red;font-weight:bold;font-size:14px;');
        console.log('%cOriginal Source: ê¹€ìš©ë˜ì„¸ë¬´ì‚¬ì‚¬ë¬´ì†Œ ê¸°ì—…ì§„ë‹¨ì„¼í„°', 'color:#666;');
        console.log('%cDigital Fingerprint: ' + _t, 'color:#999;font-size:10px;');
        console.log('%cUnauthorized use is prohibited by law.', 'color:#ff0000;font-weight:bold;');
        console.log('%cë¬´ë‹¨ ì‚¬ìš© ê¸ˆì§€ - ë²•ì  ì¡°ì¹˜ ê°€ëŠ¥', 'color:#ff0000;font-weight:bold;');
    })();
    </script>
</body>
</html>
